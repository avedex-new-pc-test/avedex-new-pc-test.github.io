import{ax as e,dC as t,bD as s,qA as i,a7 as a,c as o,o as r,b as l,a as p,aa as n,d as m,t as d,J as c,S as u,F as x,bQ as v,M as j,L as b,E as f,a5 as g,a6 as w,K as h,au as _,bK as y,oT as k}from"./Ck65DhTU.js";import{u as E,_ as S,a as C}from"./V_lXtcbI.js";import{g as q,a as z}from"./CLWMhFTw.js";import{u as F}from"./crgzly9i.js";import"./DSJhbugF.js";import"./DnulTJLV.js";import"./CPubcWut.js";import"./BwAGr_Cw.js";import"./BZz6c_uP.js";import"./BTsbWUxF.js";import"./CcyOPLCC.js";import"./D6a4i4L9.js";import"./Dw5t3e-8.js";import"./3zf6s2PU.js";import"./Cacljkka.js";import"./D-tFlNOh.js";import"./BbIkpTl9.js";import"./CNCF1BOl.js";import"./Cjh5n7V4.js";import"./BtHoUnZy.js";import"./B4zcb_8g.js";import"./CdQ2ioqd.js";import"./BXpozOC3.js";import"./B9yB1t2y.js";import"./Bogg8IY1.js";import"./DXnYH_y9.js";import"./BeEAhjD_.js";import"./BL9HHXOV.js";import"./BDzN6Gig.js";import"./DIZHS5JH.js";import"./DStMXlD-.js";import"./DtZDM5w8.js";import"./CO5_ekb3.js";import"./CSZyNKXU.js";import"./DRzpm8Vw.js";import"./D1Joxpzi.js";import"./B4EhLJjm.js";/* empty css        */import"./CfgshW7J.js";import"./8V7sqzeV.js";import"./DkNF69gj.js";import"./CAcza6aO.js";const L={class:"flex items-center pb-14px border-b-1px border-b-solid border-b-[--border] mb-12px"},M={class:"flex justify-between items-center gap-16px mb-16px"},A={class:"flex items-center gap-12px"},D={class:"flex justify-between items-center"},I={class:"min-w-0 flex-1 flex items-center gap-7px"},K={class:"flex-1 min-w-0"},R={class:"gap-8px flex items-center min-w-0"},T={key:0,width:12,src:S,alt:""},Y={class:"text-12px color-[--secondary-text]"},$={key:0,class:"text-14px lh-20px color-[--main-text] mt-16px"},J={ref:"parent",class:"overflow-y-auto scrollbar-hide",style:{height:"calc(100% - 120px)"}},N=["data-index"],P={key:0,class:"border-1px border-solid border-[--dialog-divider] rounded-8px px-12px pt-16px ml-40px mb-16px"},Q={__name:"authorIndex",setup(S){const{t:Q}=e(),V=F(),W=t("twitter_author_id"),B=x({}),G=x({loading:!1,finished:!1,page_token:""}),H=_([]),O=s("parent"),U=E(f(()=>({count:H.value.length,getScrollElement:()=>O.value,estimateSize:()=>200,overscan:5,gap:16}))),X=f(()=>U.value.getVirtualItems()),Z=f(()=>U.value.getTotalSize());i(O,k(()=>{te()},100),{distance:100});const ee=e=>H.value[e.index]||{};!async function(){const e=await q(W.value);B.value=e}();const te=async()=>{if(!G.value.loading&&!G.value.finished){G.value.loading=!0;try{const e=await z(W.value,G.value.page_token);G.value.page_token=e.page_token||"";const t=e.list||[];G.value.finished=!e.page_token,G.value.page_token||G.value.finished?H.value=[...H.value,...t]:H.value=t,y(H)}catch(e){}finally{G.value.loading=!1}}};te();return(e,t)=>{const s=n,i=v,x=a("tooltip");return r(),o("div",{class:h(["w-full h-full bg-[--secondary-bg] p-12px",{"pr-16px":c(V).isLeftFixed,"pl-16px":c(V).isRightFixed}])},[l(s,{name:"custom:drag2",class:"absolute top-4px left-50% ml--6px text-6px bg-[--dialog-list-hover] drag-handle"}),p("div",L,[p("div",M,[l(s,{name:"material-symbols:arrow-back-ios-new-rounded",class:"cursor-pointer",onClick:t[0]||(t[0]=e=>W.value="")}),m(d(c(Q)("home")),1)]),t[6]||(t[6]=p("div",{class:"flex-1 drag-handle h-20px"},null,-1)),p("div",A,[l(s,{name:"custom:close",class:"text-14px shrink-0 cursor-pointer color-[--main-text]",onClick:t[1]||(t[1]=e=>c(V).visible=!1)})])]),p("div",null,[p("div",D,[p("div",I,[l(i,{"icon-size":"48px",class:"cursor-pointer",wallet_logo:{logo:c(B).profile_pic,name:c(B).name}},null,8,["wallet_logo"]),p("div",K,[p("div",R,[j((r(),o("span",{class:"color-[--main-text] text-16px lh-20px min-w-0 max-w-[calc(100%-80px)] truncate cursor-pointer",onClick:t[2]||(t[2]=t=>e.clickAvatar(c(B).author_id))},[m(d(c(B).name),1)])),[[x,c(B).name]]),c(B).blue_verified?(r(),o("img",T)):u("",!0)]),p("div",Y,"@"+d(c(B).username),1)])]),p("div",{class:"w-24px h-24px rounded-4px bg-[--main-list-hover] flex items-center justify-center cursor-pointer",onClick:t[3]||(t[3]=e=>{return t=c(B).twitter_url,window.open(t);var t})},[l(s,{name:"custom:twitter"})])]),c(B).bio?(r(),o("div",$,d(c(B).bio),1)):u("",!0)]),t[7]||(t[7]=p("div",{class:"my-16px h-1px bg-[--dialog-divider]"},null,-1)),p("div",J,[p("div",{style:b({height:`${c(Z)}px`,width:"100%",position:"relative"})},[(r(!0),o(g,null,w(c(X),s=>(r(),o("div",{key:String(s.key),style:b({position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${s.start}px)`})},[p("div",{ref_for:!0,ref:e=>c(U).measureElement(e),"data-index":s.index,class:"border-b-1px border-b-solid border-b-[--border]"},[l(C,{item:ee(s),index:s.index,onMeasureElement:t[4]||(t[4]=t=>c(U).measureElement(e.el))},null,8,["item","index"]),["2","3","4"].includes(ee(s).type)&&(ee(s).retweeted_tweet||ee(s).quoted_tweet||ee(s).replied_tweet)?(r(),o("div",P,[l(C,{item:ee(s).retweeted_tweet||ee(s).quoted_tweet||ee(s).replied_tweet,index:-1,onMeasureElement:t[5]||(t[5]=t=>c(U).measureElement(e.el))},null,8,["item"])])):u("",!0)],8,N)],4))),128))],4)],512)],2)}}};export{Q as default};
