import{E as e,a as l}from"./DwCOqVai.js";import{f as a,n as t,bq as o,c as s,o as i,F as n,r,K as d,J as u,b7 as m,t as c,j as p,_ as v,B as f,ao as h,D as y,g,hg as x,x as k,d9 as w,y as b,a as _,da as F,X as C,am as D,s as S,a4 as L,cx as A,bU as B,mA as N,mB as j,Y as $,Q as Y,i as E,b as M,w as I,l as W,R as z,ae as T,O as V,k as H,d as q,ax as K,ay as O,a0 as P,aA as U,aB as J,c2 as Z}from"./B65fceU8.js";import{_ as G}from"./DTm-TYre.js";import{E as Q,a as R}from"./9bZM2T3M.js";/* empty css        */import"./WwFlK4Sr.js";import"./C7T7CFu_.js";import"./C_cldy6d.js";import{v as X}from"./CTBUSF_Q.js";import"./CMsCuTMf.js";import"./Bn6uVvoP.js";const ee={key:0,class:"prefix"},le={key:0},ae={key:1},te={key:2},oe={key:3},se={key:3,class:"suffix"},ie=a({__name:"columns",props:{col:{},row:{},customKeys:{default:()=>[]}},setup(e){const l=e,a=t(l.col.multiple||[l.col]),v=o();return(e,t)=>(i(!0),s(n,null,r(p(a),(a,t)=>(i(),s("div",{key:a.prop||t,class:d((null==a?void 0:a.customClassName)?"function"==typeof(null==a?void 0:a.customClassName)?null==a?void 0:a.customClassName(l.row):null==a?void 0:a.customClassName:"")},[(null==a?void 0:a.prefix)?(i(),s("span",ee,c("function"==typeof(null==a?void 0:a.prefix)?null==a?void 0:a.prefix(l.row):null==a?void 0:a.prefix),1)):u("",!0),p(v).default&&l.customKeys.indexOf(a.prop)>-1?m(e.$slots,"default",{key:1,row:l.row}):(i(),s(n,{key:2},["--"===l.row[null==a?void 0:a.prop]?(i(),s("span",le,"--")):0===l.row[null==a?void 0:a.prop]?(i(),s("span",ae,"0")):(null==a?void 0:a.customFormatter)?(i(),s("span",te,c("function"==typeof(null==a?void 0:a.customFormatter)?null==a?void 0:a.customFormatter(l.row):null==a?void 0:a.customFormatter),1)):(i(),s("span",oe,c(l.row[null==a?void 0:a.prop]),1))],64)),(null==a?void 0:a.suffix)?(i(),s("span",se,c("function"==typeof(null==a?void 0:a.suffix)?null==a?void 0:a.suffix(l.row):null==a?void 0:a.suffix),1)):u("",!0)],2))),128))}}),ne={class:"chart-container"},re=["id"],de=v({__name:"line",props:{dataList:{type:Array,default:()=>[]},showSeries:{type:Array,default:()=>[]},loading:Boolean,showLeft:Boolean},setup(e){const{t:l}=f(),a=e,{mode:o,lang:n}=h(y()),r=t(`chart-${X()}`),d=g(()=>[{k:1,color:"#12B886",label:l("add"),value:"addliquidity_total",areaStyle:{opacity:.8,color:new x(0,0,0,1,[{offset:0,color:"#12B886"},{offset:1,color:"#0A0B0D"}])}},{k:2,color:"#F6465D",label:l("remove"),value:"removeliquidity_total",areaStyle:{opacity:.8,color:new x(0,0,0,1,[{offset:0,color:"#F6465D"},{offset:1,color:"#0A0B0D"}])}}]),u=g(()=>a.dataList.map(e=>e.time)),m=g(()=>d.value.map(e=>({name:e.label,symbol:"none",type:"bar",barWidth:"10",z:1,symbol:"none",itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},areaStyle:e.areaStyle,data:a.dataList.map(l=>l[e.value])}))),c=()=>{if(!document.getElementById(r.value))return;let e=w(document.getElementById(r.value));e||(e=F(document.getElementById(r.value),null,{renderer:"svg"})),e.hideLoading(),e.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""});const l={legend:{show:!0,bottom:0,itemWidth:10,itemHeight:10,icon:"circle",textStyle:{color:"#787B86",fontSize:12}},tooltip:{trigger:"axis",backgroundColor:"light"===o.value?"#F5F5F5":"#17191C",textStyle:{fontSize:10,color:"#959A9F",fontFamily:"Poppins"},borderWidth:0,formatter:function(e){let l=e[0].name+"<br>";return e.forEach(e=>{l+=`${e.marker} ${e.seriesName}: <span style="color:${"light"===o.value?"#17191C":"#F5F5F5"}">${C(e.value||0,2)}</span><br>`}),l},appendToBody:!0},grid:{left:"20",right:"20",top:"20",bottom:"40",containLabel:!0,tooltip:{axisPointer:{type:"cross"}}},xAxis:{type:"category",data:u.value,boundaryGap:["0","20"],splitLine:{show:!1},axisTick:{show:!0},axisLabel:{color:"light"===o.value?"#999":"#666",fontFamily:"Poppins"},nameTextStyle:{fontSize:12},axisLine:{lineStyle:{color:"#1c1c1c"}}},yAxis:{type:"value",position:"right",name:"",nameTextStyle:{fontSize:12},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===o.value?"#999":"#666",fontFamily:"Poppins",formatter:"{value}"},splitLine:{show:!1},min:e=>parseInt(.95*e.min),max:e=>Math.ceil(e.max)},series:m.value};e.setOption(l),a.dataList&&a.dataList.length>0&&e.hideLoading()},v=(e,l)=>{const a=w(document.getElementById(r.value));a&&a.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:d.value[l].label})};return k(()=>a.loading,e=>{const l=w(document.getElementById(r.value));l&&(e?(l.hideLoading(),l.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""})):l.hideLoading())}),k(()=>a.dataList,()=>{c()}),k(()=>a.showSeries[0],e=>{v(e,0)}),k(()=>a.showSeries[1],e=>{v(e,1)}),k(()=>a.showSeries[2],e=>{v(e,2)}),k(()=>a.showSeries[3],e=>{v(e,3)}),k([o,n],()=>{c()}),k(()=>a.showLeft,e=>{setTimeout(()=>{const e=w(document.getElementById(r.value));e&&e.resize()},100)}),b(()=>{c()}),(e,l)=>(i(),s("div",ne,[_("div",{id:p(r),style:{height:"245px",width:"100%"}},null,8,re)]))}},[["__scopeId","data-v-aca0ed26"]]),ue={class:"w-lp"},me={class:"w-[100%]"},ce={class:"flex gap-10px items-center ml-12px"},pe={class:"font-400 text-12px lh-16px color-[--d-999-l-666]"},ve={class:"m-table mt20px"},fe={key:0,class:"flex flex-col items-center justify-center py-30px"},he={key:0,src:U},ye={key:1,src:J},ge={key:1},xe=["onClick"],ke={class:"max-w-140px whitespace-nowrap overflow-hidden text-ellipsis"},we={key:1,class:"flex flex-col"},be={key:2,class:"flex flex-col"},_e={key:3,class:"flex flex-col"},Fe={key:4,class:"flex flex-col"},Ce={class:"line-bar"},De=v(a({__name:"index",props:{pairAddress:{type:String,default:""},token:{type:Object,default:()=>({})},height:{type:Number,default:0}},setup(a){const o=a,{isDark:m,mode:v,showLeft:x}=h(y()),w=D(),F=t([]),U=t([]),{t:J}=f(),X=t({}),ee=S([!0,!0]),le=t(!1),ae=t(!1),te=g(()=>o.height-47-(U.value.length>0||le.value?465:182)),oe=g(()=>{var e,l,a,t;return[{label:"#",prop:"index",align:"left",width:40},{label:J("provider1"),prop:"mark",align:"left",sortable:!1,minWidth:160,customClassName:()=>{},customFormatter:e=>e.mark?e.mark:(e.address||"").slice(0,2)+"..."+(e.address||"").slice(-4)},{label:J("ratio")+"%",prop:"percent",minWidth:100,align:"right",sortable:!1,customClassName:()=>{}},{label:(null==(e=X.value)?void 0:e.main_token_symbol)?J("amt",{n:null==(l=X.value)?void 0:l.main_token_symbol}):"",prop:"addAmt",align:"right",minWidth:140},{label:(null==(a=X.value)?void 0:a.target_token_symbol)?J("amt",{n:null==(t=X.value)?void 0:t.target_token_symbol}):"",prop:"netAmt",align:"right",minWidth:140},{label:J("value"),prop:"value1",align:"right",minWidth:100,sortable:!1,customClassName:()=>{},customFormatter:e=>`$${C(e.value1,4)}`}]}),se=S(30),ne=S([]),re=g(()=>[{label:J("amount"),prop:"amount",align:"center",sortable:!1,customClassName:()=>{},customFormatter:e=>`${C(e.amount,2)}`},{label:J("lockDate"),prop:"lockDate",align:"center",sortable:!1,customClassName:()=>{},customFormatter:e=>L(e.lockDate,"YYYY-MM-DD")},{label:J("unlockDateStart"),prop:"unlockDate",align:"center",sortable:!1,customClassName:()=>{},customFormatter:e=>L(e.unlockDate,"YYYY-MM-DD")},{label:J("unlockDateEnd"),prop:"unlockDateEnd",align:"center",sortable:!1,customClassName:()=>{},customFormatter:e=>L(e.vesting_end||e.unlockDate,"YYYY-MM-DD")}]);b(()=>{Le(),Ae()}),A(()=>{}),k(()=>o.pairAddress,e=>{Le()}),k(()=>o.token,e=>{Ae()});const De=e=>e.index;const Se=g(()=>{var e,l;const a=w.params.id;return a?B(a):{address:(null==(e=o.token)?void 0:e.token)||"",chain:(null==(l=o.token)?void 0:l.chain)||""}});function Le(){o.pairAddress&&Se.value.chain&&(le.value=!0,N(o.pairAddress+"-"+Se.value.chain,se.value).then(e=>{var l;U.value=(null==(l=null==e?void 0:e.map(e=>({...e,time:L(new Date(null==e?void 0:e.time).getTime()/1e3,"MM-DD")})))?void 0:l.reverse())||[]}).finally(()=>{le.value=!1}).catch(e=>{U.value=[]}))}function Ae(){var e,l,a,t;const s=[];ae.value=!0,(null==(e=o.token)?void 0:e.token)&&(null==(l=Se.value)?void 0:l.chain)?j(((null==(a=o.token)?void 0:a.token)||"")+"-"+(null==(t=Se.value)?void 0:t.chain)).then(e=>{if((null==e?void 0:e.holders)&&Array.isArray(null==e?void 0:e.holders)){const{holders:l,...a}=e;F.value=e.holders.map((e,l)=>({...e,index:(l+1).toString(),value1:new $(e.target_token_amount_usd).plus(e.main_token_amount_usd).toNumber()})),s.push(...F.value.filter(e=>{var l;return null==(l=null==e?void 0:e.lock)?void 0:l.length}).map(e=>e.index)),X.value=a}else F.value=[],X.value={}}).catch(e=>{F.value=[]}).finally(()=>{ae.value=!1}):(F.value=[],X.value={},ae.value=!1),ne.value=s}return(a,t)=>{const o=e,f=l,h=H,y=G,g=Q,k=R,w=Y("tooltip"),b=T;return i(),s("div",ue,[_("div",me,[_("div",ce,[_("div",pe,c(a.$t("liquidity")),1),M(f,{modelValue:p(se),"onUpdate:modelValue":t[0]||(t[0]=e=>W(se)?se.value=e:null),class:"m-radio-group",size:"small",fill:p(m)?"#333":"#666","text-color":p(m)?"#F5F5F5":"#FFF",onChange:Le},{default:I(()=>[M(o,{label:"7D",value:7}),M(o,{label:"1M",value:30})]),_:1},8,["modelValue","fill","text-color"])]),p(U).length>0||p(le)?(i(),E(de,{key:0,dataList:p(U),loading:p(le),showSeries:p(ee),showLeft:p(x)},null,8,["dataList","loading","showSeries","showLeft"])):u("",!0)]),_("div",ve,[z((i(),E(k,{data:p(F),style:P([{width:"100%"},{height:p(te)>=245?`${p(te)}px`:"245px"}]),"expand-row-keys":p(ne),"preserve-expanded-content":"",fit:"","row-key":De,size:"small"},{empty:I(()=>[p(ae)?(i(),s("span",ge)):(i(),s("div",fe,["light"===p(v)?(i(),s("img",he)):u("",!0),"dark"===p(v)?(i(),s("img",ye)):u("",!0),_("span",null,c(p(J)("emptyNoData")),1)]))]),default:I(()=>[(i(!0),s(n,null,r(p(oe),e=>(i(),E(g,{key:e.prop,label:e.label,width:e.width,prop:e.prop,"min-width":e.minWidth,align:e.align},{default:I(({row:l})=>[M(ie,{row:l,col:e,customKeys:["mark","addAmt","netAmt","txns","percent"]},{default:I(()=>{return["mark"==e.prop?(i(),s("div",{key:0,class:"flex-start gap-2px hover:color-[--d-FFF-l-000] cursor-pointer",onClick:V(e=>function(e){var l;window.open(Z((null==(l=Se.value)?void 0:l.chain)||"",e.address||"","address"),"_blank")}(l),["stop"])},[(o=l,o.lock||/lock|null|(black hole)/gi.test(o.mark||"")?(i(),E(h,{key:0,color:"#B3920E",name:"material-symbols:lock"})):u("",!0)),1==l.is_contract?(i(),E(h,{key:1,name:"iconamoon:file-document-thin"})):u("",!0),1===Number(null==l?void 0:l.analysis_show_creator)?(i(),E(y,{key:2},{default:I(()=>[q(c(a.$t("contractCreator")),1)]),_:1})):u("",!0),z((i(),s("div",ke,[q(c(e.customFormatter?e.customFormatter(l):l[e.prop]),1)])),[[w,(null==l?void 0:l.mark)||(null==l?void 0:l.address)]])],8,xe)):"addAmt"==e.prop?(i(),s("div",we,[_("span",null,c(("formatNumber"in a?a.formatNumber:p(C))(l.main_token_amount,1)),1)])):"netAmt"==e.prop?(i(),s("div",be,[_("span",null,c(("formatNumber"in a?a.formatNumber:p(C))(l.target_token_amount,1)),1)])):"txns"==e.prop?(i(),s("div",_e,[_("div",{class:d(`color-${p(K)[0]} flex-start`)},[t[1]||(t[1]=_("img",{src:"data:image/svg+xml,%3csvg%20width='12'%20height='13'%20viewBox='0%200%2012%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20opacity='0.103723'%20y='0.5'%20width='12'%20height='12'%20rx='2'%20fill='%2312B886'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9%206.5C9%206.79224%208.76282%207.02941%208.47059%207.02941H6.52941V8.97059C6.52941%209.26282%206.29224%209.5%206%209.5C5.70776%209.5%205.47059%209.26282%205.47059%208.97059V7.02941H3.52941C3.23718%207.02941%203%206.79224%203%206.5C3%206.20776%203.23718%205.97059%203.52941%205.97059H5.47059V4.02941C5.47059%203.73718%205.70776%203.5%206%203.5C6.29224%203.5%206.52941%203.73718%206.52941%204.02941V5.97059H8.47059C8.76282%205.97059%209%206.20776%209%206.5Z'%20fill='%2312B886'/%3e%3c/svg%3e",alt:"",class:"h-12px w-12px mr-4px mt-2px"},null,-1)),q(" "+c(l.add_total),1)],2),_("div",{class:d(`color-${p(O)[0]} flex-start`)},[t[2]||(t[2]=_("img",{src:"data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20opacity='0.103723'%20width='12'%20height='12'%20rx='2'%20fill='%23F6465D'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9%206.5C9%206.776%208.76282%207%208.47059%207H3.52941C3.23718%207%203%206.776%203%206.5C3%206.224%203.23718%206%203.52941%206H8.47059C8.76282%206%209%206.224%209%206.5Z'%20fill='%23F6465D'/%3e%3c/svg%3e",alt:"",class:"h-12px w-12px mr-4px mt-2px"},null,-1)),q(" "+c(l.remove_total),1)],2)])):"percent"==e.prop?(i(),s("div",Fe,[_("div",null,c(("formatNumber"in a?a.formatNumber:p(C))(l.percent,1))+"%",1),_("div",Ce,[_("span",{style:P({width:l.percent+"%"})},null,4)])])):u("",!0)];var o}),_:2},1032,["row","col"])]),_:2},1032,["label","width","prop","min-width","align"]))),128)),M(g,{type:"expand"},{default:I(({row:e})=>[(null==e?void 0:e.lock)&&(null==e?void 0:e.lock.length)?(i(),E(k,{key:0,data:null==e?void 0:e.lock,style:{width:"100%"}},{default:I(()=>[(i(!0),s(n,null,r(p(re),e=>(i(),E(g,{key:e.prop,label:e.label,prop:e.prop,align:e.align},{default:I(({row:l})=>[M(ie,{row:l,col:e},null,8,["row","col"])]),_:2},1032,["label","prop","align"]))),128))]),_:2},1032,["data"])):u("",!0)]),_:1})]),_:1},8,["data","expand-row-keys","style"])),[[b,p(ae)]])])])}}}),[["__scopeId","data-v-f759d285"]]);export{De as default};
