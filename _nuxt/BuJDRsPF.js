import{f as e,ao as a,ap as s,ad as l,ac as t,aq as r,B as i,D as o,n,g as d,x as c,Y as u,y as p,Q as m,c as v,o as x,R as _,i as g,J as h,b as f,ae as w,w as y,j as k,a as b,t as C,k as S,O as $,K as F,au as j,av as z,a2 as A,a8 as T,a5 as B,az as E,d as N,aA as R,aB as D,aC as V,L as W,E as Y,W as H,$ as M,aN as J,aM as U,aS as I,aJ as O,aT as q,_ as K}from"./B65fceU8.js";import{E as L,a as P}from"./9bZM2T3M.js";import{E as Q}from"./SN_WTIiz.js";import"./WwFlK4Sr.js";import"./C7T7CFu_.js";import"./CzOUaPrr.js";import{i as G}from"./BrvvCKFg.js";import"./CMsCuTMf.js";const X={class:"flex-1 h-[calc(100%-76px)] flex flex-col"},Z={key:0},ee={key:0,class:"flex flex-col items-center justify-center py-30px"},ae={key:0,src:R},se={key:1,src:D},le={key:1},te={class:"text-12px mt-10px"},re={class:"flex items-center"},ie={class:"text-[--d-666-l-999] text-10px mr-5px"},oe={class:"ml-5px h-32px flex flex-col justify-between"},ne={class:"flex items-center"},de={class:"flex items-center"},ce={class:"text-[#666]"},ue={key:0},pe={key:1,class:"text-[#666]"},me={key:0},ve={key:1,class:"text-[#666]"},xe=["href"],_e=["onClick"],ge={class:"overflow-hidden whitespace-nowrap max-w-0 group-hover:max-w-[100px] transition-all duration-500 ease-in-out"},he={key:1,class:"flex items-center mr-12px color-[var(--d-666-l-CCC)] cursor-not-allowed"},fe={class:"flex items-center justify-between mt-12px gap-12px"},we=K(e({__name:"index",setup(e){const{updateNum3:R}=a(s()),D=l(),K=t(),we=r(),{t:ye}=i(),{isDark:ke}=a(o()),be=n({buttonRefs:{}}),Ce=n(""),Se=n(!1),$e=n({x:0,y:0}),Fe=n({getBoundingClientRect:()=>({width:0,height:0,top:$e.value.y,left:$e.value.x,bottom:$e.value.y,right:$e.value.x}),get clientWidth(){return 0},get clientHeight(){return 0}}),je=n({}),ze=n(!1),Ae=n({total:0,page:1,pageSize:50}),Te=n([]),{mode:Be}=a(o()),Ee=d(()=>D.evmAddress||K.address);c(()=>K.walletSignature[K.address],e=>{e&&De()}),c(()=>D.evmAddress,e=>{e?De():Te.value=[]}),c(()=>K.address,e=>{e?De():Te.value=[]});const Ne=e=>{we.push(`/address/${e.user_address}-${e.user_chain}`)},Re=({prop:e,order:a})=>{e&&("ascending"===a?Te.value=Te.value.toSorted((a,s)=>a[e]-s[e]):"descending"===a&&(Te.value=Te.value.toSorted((a,s)=>s[e]-a[e])))},De=async()=>{var e;ze.value=!0;const a=await G({address:Ee.value,pageNO:Ae.value.page,pageSize:Ae.value.pageSize,time_interval:"7d",sort_dir:"desc"}),s=a.data&&(null==(e=a.data)?void 0:e.map(e=>({...e,total_txs:Ve(e.total_sold).plus(Ve(e.total_purchase)).toString(),total_txs_usd:Ve(e.total_sold_usd).plus(Ve(e.total_purchase_usd)).toString()})))||[];Ae.value.total=a.total,Te.value=s,ze.value=!1};function Ve(e){try{const a=new u(e);return a.isFinite()?a:new u(0)}catch(a){return new u(0)}}return p(()=>{(D.evmAddress||K.address)&&De()}),(e,a)=>{const s=W,l=V,t=S,r=j,i=z,o=L,n=A,d=P,c=Q,u=Y,p=H,G=m("copy"),we=w;return x(),v("div",X,[_((x(),g(d,{class:"mt-12px",height:Ae.value.total>50?"calc(100% - 84px)":"100%","row-class-name":"group",data:Te.value,fit:"",onSortChange:Re,onRowClick:Ne},{empty:y(()=>[k(D).evmAddress||k(K).address?(x(),v("div",Z,[ze.value?(x(),v("span",le)):(x(),v("div",ee,["light"===k(Be)?(x(),v("img",ae)):h("",!0),"dark"===k(Be)?(x(),v("img",se)):h("",!0),b("span",null,C(k(ye)("emptyNoData")),1)]))])):(x(),g(l,{key:1},{default:y(()=>[b("span",te,C(e.$t("noWalletTip")),1),f(s,{type:"primary",class:"mt-10px",onClick:a[0]||(a[0]=e=>k(D).$patch({connectVisible:!0}))},{default:y(()=>[N(C(e.$t("connectWallet")),1)]),_:1})]),_:1}))]),default:y(()=>[f(o,{label:k(ye)("address"),"min-width":"160","show-overflow-tooltip":""},{default:y(({row:e,$index:s})=>[b("div",re,[b("span",ie," #"+C((Ae.value.page-1)*Ae.value.pageSize+s+1),1),(x(),g(t,{key:`${e.user_address}-${e.user_chain}`,ref:e=>be.value.buttonRefs[s]=e,name:"custom:attention",class:F([1===e.is_wallet_address_fav?"color-[#F45469]":"color-[--d-666-l-999]","color-[--d-666-l-999] h-16px w-16px clickable shrink-0"]),onClick:$(a=>(async e=>{K.address&&!K.walletSignature[K.address]&&await K.signMessageForFavorite(),ze.value=!0,(1===e.is_wallet_address_fav?O:q)({address:Ee.value,user_address:e.user_address,user_chain:e.user_chain}).then(()=>{M.success(1===e.is_wallet_address_fav?ye("attention1Canceled"):ye("attention1Success")),De()}).catch(e=>{M.error(String(e))}).finally(()=>{ze.value=!1})})(e),["stop","prevent"])},null,8,["class","onClick"])),(x(),g(r,{key:`${e.user_address}-${e.user_chain}`,class:"mx-8px",wallet_logo:e.wallet_logo,address:e.user_address,chain:e.user_chain,iconSize:"32px"},null,8,["wallet_logo","address","chain"])),b("div",oe,[b("div",ne,[(x(),g(i,{key:`${e.user_address}-${e.user_chain}`,remark:e.remark,address:e.user_address,chain:e.user_chain,addressClass:"token-symbol ellipsis py-0px! text-14px lh-none",addressStyle:"max-width: 85px",iconEditColor:k(ke)?"#666":"#999",iconEditSize:"10px",showAddressTitle:"",formatAddress:e=>(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4))},null,8,["remark","address","chain","iconEditColor","formatAddress"]))]),b("div",de,[_(f(t,{onClick:a[1]||(a[1]=$(()=>{},["stop","prevent"])),name:"bxs:copy",class:"clickable text-[--d-666-l-999]"},null,512),[[G,null==e?void 0:e.user_address]]),f(t,{name:"custom:sun-icon",class:"text-12px mx-5px"}),f(t,{name:"custom:wallet-icon",class:"text-12px"})])])])]),_:1},8,["label"]),f(o,{label:k(ye)("noteTime"),align:"right"},{default:y(({row:a})=>[f(n,{placement:"right",content:k(T)(a.create_time).format("YYYY-MM-DD HH:mm:ss")},{default:y(()=>[b("div",ce,C(("formatTimeFromNow"in e?e.formatTimeFromNow:k(B))(null==a?void 0:a.create_time)),1)]),_:2},1032,["content"])]),_:1},8,["label"]),f(o,{label:k(ye)("tokenBalance"),align:"right"},{default:y(({row:e})=>[b("div",null,[(null==e?void 0:e.main_token_balance_amount)>0?(x(),v("div",ue,C(k(E)((null==e?void 0:e.main_token_balance_amount)||0,2))+"Â "+C(e.main_token_symbol),1)):(x(),v("div",pe," 0 "))])]),_:1},8,["label"]),f(o,{label:k(ye)("walletTotalBalance"),align:"right"},{default:y(({row:e})=>[b("div",null,[(null==e?void 0:e.total_balance)>0?(x(),v("div",me," $"+C(k(E)((null==e?void 0:e.total_balance)||0,1)),1)):(x(),v("div",ve," $0 "))])]),_:1},8,["label"]),f(o,{label:k(ye)("pushTitle"),align:"right"},{default:y(({row:e})=>[b("div",{class:"flex flex-row-reverse",onClick:a[2]||(a[2]=$(()=>{},["stop"]))},[b("a",{class:"flex items-center",href:`https://t.me/AveSniperBot?start=fs-${e.user_chain}-${e.user_address}`,target:"_blank"},[f(t,{name:"custom:documentary-wallet",class:"text-16px mr-2px"}),N(" "+C(k(ye)("copyTrade")),1)],8,xe),"solana"===(null==e?void 0:e.user_chain)||"bsc"===(null==e?void 0:e.user_chain)?(x(),v("div",{key:0,class:"flex items-center mr-12px cursor-pointer color-[#666] group-hover:color-[var(--d-CCC-l-333)]",onClick:a=>(async e=>{if(!D.evmAddress)return M.warning(ye("noBotWalletTip"));if(0===(null==e?void 0:e.is_monitored)){if(0===e.is_wallet_address_fav)return M.warning(ye("monitorError"));await J({address:e.user_address,app:0,buy:1,chain:e.user_chain,sell:1,telegram:0,user_address:Ee.value,website:1}).then(()=>{M.success(ye("success")),De()}).catch(e=>{M.error(String(e))})}else await U({address:e.user_address,uid:e.id}).then(()=>{M.success(ye("success")),De()})})(e)},[1===(null==e?void 0:e.is_monitored)?(x(),g(t,{key:0,name:"custom:monitor2-icon",class:F(["text-13px mr-5px",[1===(null==e?void 0:e.is_monitored)&&"color-[var(--d-CCC-l-333)]"]])},null,8,["class"])):(x(),g(t,{key:1,name:"custom:monitor-icon",class:"text-16px mr-2px"})),b("span",ge,C(1===(null==e?void 0:e.is_monitored)?k(ye)("pause"):k(ye)("enable")),1)],8,_e)):(x(),v("div",he,[f(t,{name:"custom:monitor-icon",class:"text-16px mr-2px"})]))])]),_:1},8,["label"])]),_:1},8,["height","data"])),[[we,ze.value]]),Ae.value.total>1?(x(),g(c,{key:0,class:"h-72px flex justify-end items-center","current-page":Ae.value.page,"onUpdate:currentPage":a[3]||(a[3]=e=>Ae.value.page=e),"page-size":Ae.value.pageSize,"onUpdate:pageSize":a[4]||(a[4]=e=>Ae.value.pageSize=e),layout:"prev, pager, next, ->",total:Ae.value.total,"page-sizes":[10,20,30,40,50,60],"hide-on-single-page":"",onChange:De},null,8,["current-page","page-size","total"])):h("",!0),f(p,{visible:Se.value,"virtual-ref":Fe.value,"virtual-triggering":"",trigger:"click",width:250},{default:y(()=>[b("div",null,[b("div",null,C(k(ye)("editRemark")),1),f(u,{modelValue:Ce.value,"onUpdate:modelValue":a[5]||(a[5]=e=>Ce.value=e),clearable:"",maxlength:"20","show-word-limit":"",placeholder:k(ye)("enterRemark"),class:"mt-8px w-200px"},null,8,["modelValue","placeholder"]),b("div",fe,[b("div",{onClick:a[6]||(a[6]=e=>Se.value=!1),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},C(k(ye)("cancel")),1),b("div",{onClick:a[7]||(a[7]=e=>(async e=>{if(Ce.value.length>50)return M.error(ye("remarkError"));await I({remark:Ce.value,user_address:e.user_address,user_chain:e.user_chain,self_address:Ee.value}),M.success(ye("success")),Se.value=!1,R.value++,De()})(je.value)),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},C(k(ye)("confirm")),1)])])]),_:1},8,["visible","virtual-ref"])])}}}),[["__scopeId","data-v-a3cd8b36"]]);export{we as default};
