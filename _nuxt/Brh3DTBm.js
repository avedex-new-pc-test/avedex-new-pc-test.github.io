import{n as e,nu as a,a3 as t,bM as s,ax as r,bs as o,dh as l,bw as n,bD as d,aT as i,fH as u,ce as p,c,o as m,S as f,J as y,au as v,a5 as h,H as k,nv as g,aa as x,al as S,cM as b,aO as C,F as _,_ as w}from"./Ck65DhTU.js";import{u as E}from"./BEisXu1r.js";const A=w(e({__name:"remark",props:{remark:{type:String,default:""},address:{type:String,default:""},chain:{type:String,default:""},priority:{type:Number,default:0},teleported:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},formatAddress:{type:Function,default:e=>"*"+(null==e?void 0:e.slice(-6))},mouseoverAddress:{type:Function,default:null},addressClass:{type:String,default:""},addressStyle:{type:String,default:""},iconEditColor:{type:String,default:"var(--third-text)"},showAddressTitle:{type:Boolean,default:!1},iconEditSize:{type:String,default:"12px"},iconSize:{type:String,default:"16px"},showAddress:{type:Boolean,default:!0},maxRemarkLength:{type:Number,default:14},wallet_logo:{type:Object,default:()=>({logo:"",name:"",url:"",vip_logo:""})},canEdit:{type:Boolean,default:!0},avatarClass:{type:String,default:"mr-10px"}},emits:["refresh"],setup(e,{emit:w}){a(a=>({e71d04d8:e.iconEditColor,v6a7ef0a0:e.iconEditSize}));const A=e,B=w,{updateNum3:z}=t(s()),{t:I}=r(),j=o();l();const F=n(),N=d("target"),H=v(!1),M=_(!1);let O;function P(e){const a=e.remark;a.length<=20?function(e){const a={address:A.address,name:e,chain:A.chain};M.value=!0,E(a).then(()=>{C.success(I("success")),z.value++,B("refresh")}).catch(e=>{C.error(e.message)}).finally(()=>{M.value=!1})}(a):C.error(I("maximum10characters"))}return i(()=>{if(N.value){const e=u(N,([e])=>{H.value=e.isIntersecting});O=e.stop}}),p(()=>{O&&O()}),(a,t)=>{var s,r,o;const l=x;return m(),c("div",{ref_key:"target",ref:N,class:"remark-com"},[e.canEdit&&y(H)?(m(),c(h,{key:0},[(null==(r=null==(s=y(j))?void 0:s.userInfo)?void 0:r.evmAddress)||(null==(o=y(F))?void 0:o.address)?(m(),k(g,{key:0,address:e.address,chain:e.chain,remark:e.remark,popoverProps:{width:320,title:y(I)("editRemark"),popperClass:"[&&]:[--el-popover-title-text-color:--main-text] [&&]:[--el-popover-title-font-size:14px]"},onConfirm:P},null,8,["address","chain","remark","popoverProps"])):(m(),k(l,{key:1,name:"custom:remark",class:"text-12px ml-5px clickable icon-remark shrink-0",onClick:S(y(b),["stop","prevent"])},null,8,["onClick"]))],64)):f("",!0)],512)}}}),[["__scopeId","data-v-a07ba607"]]);export{A as default};
