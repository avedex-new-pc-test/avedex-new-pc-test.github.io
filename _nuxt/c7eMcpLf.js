import{f as l,G as e,ad as t,h as n,ba as s,b5 as i,b6 as a,s as o,n as u,g as r,b9 as c,Q as p,c as d,o as v,a as x,b as m,J as g,j as h,t as f,w as b,bg as w,l as F,E as k,F as y,r as C,O as S,K as $,R as V,k as _,bh as L,d as B,W as T,Y as q,bi as M,b4 as j,X as H}from"./B65fceU8.js";import{S as Q}from"./CbxefQZI.js";const A={class:"items-center inline-flex"},P={key:0,src:"data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='7'%20cy='7'%20r='7'%20fill='%23F5F5F5'/%3e%3cpath%20d='M9.98059%206.49317C9.94861%206.41742%209.87664%206.36693%209.79668%206.36693H7.99753V3.21088C7.99753%203.12251%207.94555%203.04677%207.86959%203.0131C7.79363%202.98365%207.70567%203.00469%207.64969%203.06781L4.05139%207.28008C3.99942%207.3432%203.98342%207.43157%204.01941%207.50731C4.05139%207.58306%204.12336%207.63355%204.20332%207.63355H6.00247V10.7896C6.00247%2010.878%206.05445%2010.9537%206.13041%2010.9874C6.1544%2010.9958%206.17839%2011%206.20238%2011C6.25835%2011%206.31033%2010.9748%206.35031%2010.9285L9.94861%206.7204C10.0006%206.65728%2010.0166%206.56891%209.98059%206.49317Z'%20fill='%23333333'/%3e%3c/svg%3e",class:"w-14px h-14px",alt:"",srcset:""},U={key:1,src:"data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='7'%20cy='6.99991'%20r='7'%20fill='%23333333'/%3e%3cpath%20d='M9.98059%206.49308C9.94861%206.41733%209.87664%206.36684%209.79668%206.36684H7.99753V3.21079C7.99753%203.12242%207.94555%203.04668%207.86959%203.01301C7.79363%202.98356%207.70567%203.0046%207.64969%203.06772L4.05139%207.27998C3.99942%207.34311%203.98342%207.43147%204.01941%207.50722C4.05139%207.58296%204.12336%207.63346%204.20332%207.63346H6.00247V10.7895C6.00247%2010.8779%206.05445%2010.9536%206.13041%2010.9873C6.1544%2010.9957%206.17839%2010.9999%206.20238%2010.9999C6.25835%2010.9999%206.31033%2010.9747%206.35031%2010.9284L9.94861%206.72031C10.0006%206.65719%2010.0166%206.56882%209.98059%206.49308Z'%20fill='%23F5F5F5'/%3e%3c/svg%3e",class:"w-14px h-14px",alt:"",srcset:""},D={class:"ml-5px mr-5px color-[--d-999-l-666] text-12px"},E=["src"],G={key:2,class:"ml-20px flex justify-end items-center text-12px"},K={class:"color-[--d-999-l-666] mr-5px"},N={class:"flex items-center justify-between p-1px rounded-4px text-12px h-28px bg-[--d-222-l-F2F2F2] px-2px py-2px"},O=["id","onClick","onMouseenter"],R={class:"text-14px mt-4px mb-4px flex-start"},Z={key:0},I={key:1},J={key:0,class:"text-14px mt-4px mb-4px flex-start"},W={key:1,class:"text-14px mt-4px mb-4px flex-start"},X={class:"text-14px mt-4px mb-4px flex-start"},Y={class:"mr-4px color-[--d-666-l-999] text-14px"},z={class:"text-14px mt-4px mb-4px flex-start"},ll={class:"mr-4px color-[--d-666-l-999] text-14px"},el=l({__name:"quickSwapSet",props:{chain:{},quickBuyValue:{default:"0.01"},showQuickAmount:{type:Boolean}},emits:["update:quickBuyValue"],setup(l,{emit:el}){const tl=e(),nl=t(),sl=n(),il=s(),al=i(),ol=a(),ul=el,rl=l,cl=o(0),pl=u(!1),dl=u("s1"),vl=u({}),xl=u(null),ml=r(()=>{var l,e;const t=rl.chain;if(!nl.isSupportChains.includes(t))return"";const n=null==(e=null==(l=al.botSettings)?void 0:l[t])?void 0:e[dl.value],s=null==n?void 0:n.mev,{gasTip1List:i,gasTip2List:a}=c(il.gasTip,t),o=s?i:a,u=s?0:1,r=null==n?void 0:n.gas[u];return(null==r?void 0:r.customFee)||(null==o?void 0:o[null==r?void 0:r.level])}),gl=r({get:()=>rl.quickBuyValue,set(l){ul("update:quickBuyValue",l)}});function hl(l){l&&(null==l?void 0:l.id)&&(vl.value[null==l?void 0:l.id]=l)}function fl(l){dl.value=l,xl.value=vl.value[l]||null,pl.value=!0,function(){var l;const e=rl.chain;if(!L(e))return;null==(l=M(e))||l.getFeeData().then(l=>{l&&(cl.value=new q(l.gasPrice||0).toNumber())})}()}function bl(){var l,e,t,n,s,i,a,o;const u=rl.chain;if(L(u)&&(null==(l=null==nl?void 0:nl.isSupportChains)?void 0:l.includes(u))){const l=null==(t=null==(e=al.botSettings)?void 0:e[u])?void 0:t[dl.value],r=null==l?void 0:l.mev,p=(null==(s=null==(n=il.mainTokensPrice)?void 0:n.find(l=>{var e;return l.chain===u&&l.token===(null==(e=j(u))?void 0:e.wmain_wrapper)}))?void 0:s.current_price_usd)||ol.swap.native.price||0,{gasTip1List:d,gasTip2List:v}=c(il.gasTip,u),x=r?d:v,m=r?null==l?void 0:l.gas[0]:null==l?void 0:l.gas[1],g=(null==m?void 0:m.customFee)||(null==x?void 0:x[null==m?void 0:m.level])||"3",h=(null==(o=null==(a=null==(i=il.gasTip)?void 0:i.find)?void 0:a.call(i,l=>l.chain===u&&l.mev===!!r))?void 0:o.gasLimit)||2e5;return H(new q(cl.value).plus(new q(g).times(String(10**9))).times(h).times(p).div(String(10**18)).toFixed(),2)}return 0}return(l,e)=>{var t;const n=k,s=_,i=T,a=p("tooltip");return v(),d("div",A,[h(tl).isDark?(v(),d("img",P)):(v(),d("img",U)),x("span",D,f(l.$t("quick")),1),m(n,{modelValue:h(gl),"onUpdate:modelValue":e[0]||(e[0]=l=>F(gl)?gl.value=l:null),modelModifiers:{trim:!0},style:{background:"var(--d-222-l-F2F2F2)","--el-input-bg-color":"var(--d-222-l-F2F2F2)","--el-input-border-color":"var(--d-222-l-F2F2F2)","border-radius":"4px",width:"88px",height:"28px"},placeholder:"0",clearable:"",type:"text",onInput:e[1]||(e[1]=l=>{gl.value=l.replace(/\-|[^\d.]/g,"")}),onBlur:e[2]||(e[2]=l=>function(l){const e=l,t=new q(e||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,4})?"))[0];String(e)!==String(t)&&(""===e?gl.value="":0===Number(t)?gl.value="0":gl.value=t)}(h(gl))),onKeydown:e[3]||(e[3]=w(l=>{var e;return null==(e=null==l?void 0:l.target)?void 0:e.blur()},["enter"]))},{prefix:b(()=>[x("img",{class:"rounded-full w-14px h-14px mr-4px!",src:`${h(sl).token_logo_url}chain/${l.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,E)]),_:1},8,["modelValue"]),l.chain&&h(nl).isSupportChains.includes(l.chain)?(v(),d("div",G,[x("span",K,f(l.$t("default")),1),x("div",N,[(v(),d(y,null,C(["s1","s2","s3"],t=>{var n,s;return x("button",{id:t,key:t,ref_for:!0,ref:hl,class:$(["color-[--d-666-l-999] cursor-pointer border-none font-400 rounded-4px min-w-36px py-5px px-10px text-center",""+(t===(null==(s=null==(n=h(al).botSettings)?void 0:n[l.chain])?void 0:s.selected)?"color-[--d-F5F5F5-l-333] bg-[--d-111-l-FFF]":"bg-transparent")]),type:"button",onClick:S(e=>h(al).botSettings[l.chain].selected=t,["stop"]),onMouseenter:l=>fl(t),onMouseleave:e[4]||(e[4]=l=>pl.value=!1)},f(t.toUpperCase()),43,O)}),64))])])):g("",!0),m(Q,{class:"ml-12px",chain:l.chain,setting:null==(t=h(al))?void 0:t.botSettings[l.chain],showQuickAmount:l.showQuickAmount},null,8,["chain","setting","showQuickAmount"]),m(i,{visible:h(pl),"onUpdate:visible":e[5]||(e[5]=l=>F(pl)?pl.value=l:null),"virtual-ref":h(xl),"virtual-triggering":"",trigger:"contextmenu",placement:"bottom"},{default:b(()=>{var e,t,n,i,o,u,r,c,p,b,w,F;return[x("ul",null,[x("li",R,[V(m(s,{name:"custom:slippage",class:"text-12px color-[--d-666-l-999] ml-0 mr-6px cursor-pointer"},null,512),[[a,l.$t("slippage")]]),"auto"!==(null==(n=null==(t=null==(e=h(al).botSettings)?void 0:e[l.chain||""])?void 0:t[h(dl)])?void 0:n.slippage)?(v(),d("span",Z,f(null==(u=null==(o=null==(i=h(al).botSettings)?void 0:i[l.chain||""])?void 0:o[h(dl)])?void 0:u.slippage)+"%",1)):(v(),d("span",I,f(l.$t("auto")),1))]),h(L)(l.chain||"")?(v(),d("li",J,[V(m(s,{name:"custom:gas",class:"text-12px color-[--d-666-l-999] ml-0 mr-6px cursor-pointer"},null,512),[[a,l.$t("estimatedGas")]]),x("span",null,"$"+f(bl()),1)])):g("",!0),"solana"===l.chain?(v(),d("li",W,[V(m(s,{name:"custom:gas",class:"text-12px color-[--d-666-l-999] mr-6px cursor-pointer ml-0"},null,512),[[a,l.$t("priorityFee")]]),x("span",null,f(h(ml))+" SOL",1)])):g("",!0),x("li",X,[x("span",Y,f(l.$t("autoSellHalf")),1),B(" "+f((null==(p=null==(c=null==(r=h(al).botSettings)?void 0:r[l.chain])?void 0:c[h(dl)])?void 0:p.autoSell)?l.$t("on"):l.$t("off")),1)]),x("li",z,[x("span",ll,f(l.$t("mev")),1),B(" "+f((null==(F=null==(w=null==(b=h(al).botSettings)?void 0:b[l.chain])?void 0:w[h(dl)])?void 0:F.mev)?l.$t("on"):l.$t("off")),1)])])]}),_:1},8,["visible","virtual-ref"])])}}});export{el as _};
