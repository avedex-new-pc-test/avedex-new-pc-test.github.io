import{f as e,ad as l,ac as a,h as t,aq as r,B as s,n as o,g as n,ao as c,D as i,x as u,y as p,aP as d,Q as x,c as v,o as m,J as g,a as h,b as f,j as k,F as b,r as y,K as _,d as w,t as C,w as F,O as $,k as V,E as j,i as S,W as A,R as G,ae as z,e as B,aw as R,aQ as H,aR as T,az as N,aA as U,aB as E,aC as P,L as I,aH as M,$ as D,H as L,_ as W}from"./B65fceU8.js";import{E as q,a as O}from"./9bZM2T3M.js";import{a as J,E as Q}from"./CzOUaPrr.js";import{E as K}from"./SN_WTIiz.js";import{E as Y}from"./DgZfLxrh.js";import"./WwFlK4Sr.js";import"./C7T7CFu_.js";import{V as Z}from"./C82_35TG.js";import{_ as X}from"./CTBUSF_Q.js";import{g as ee,b as le,c as ae,d as te,e as re,f as se,h as oe,r as ne,m as ce}from"./BrvvCKFg.js";import"./CMsCuTMf.js";const ie={class:"flex-1 h-[calc(100%-76px)] flex flex-col"},ue={key:0,class:"flex items-center px-12px mt-12px gap-8px overflow-x-auto scrollbar-hide"},pe=["onClick"],de={key:0},xe=["onClick"],ve={class:"ml-4px text-14px"},me=["onClick"],ge={class:"ml-4px text-14px"},he={key:1,class:"px-15px"},fe={class:"flex items-center justify-between mt-12px gap-12px"},ke=["onClick"],be=["onClick"],ye={class:"flex items-center justify-between mt-12px gap-12px"},_e={class:"flex items-center justify-between mt-12px gap-12px"},we={class:"w-100% mt-12px flex-1 overflow-hidden"},Ce={key:0},Fe={key:0,class:"flex flex-col items-center justify-center py-30px"},$e={key:0,src:U},Ve={key:1,src:E},je={key:1},Se={class:"text-12px mt-10px"},Ae={class:"flex items-center"},Ge={class:"text-[--d-666-l-999] text-10px mr-5px"},ze={class:"relative ml-3px"},Be=["src"],Re=["src"],He=["src"],Te={class:"ml-5px"},Ne={class:"flex items-center"},Ue={class:"text-13px"},Ee={class:"text-12px text-[--d-666-l-999] ml-4px"},Pe=["href"],Ie={class:"flex items-center mt-2px"},Me=["title"],De=["onClick"],Le=["href"],We=["href"],qe=["innerHTML"],Oe={key:0,class:"text-[#12b886]"},Je={key:1,class:"text-[#848E9C]"},Qe={key:2,class:"text-[#ff646d]"},Ke={class:"flex items-center justify-between mt-12px gap-12px"},Ye=W(e({__name:"index",setup(e){const U=l(),E=a(),W=t(),Ye=r(),{t:Ze}=s(),Xe=o(0),el=o([]),ll=n(()=>[{label:Ze("defaultGroup"),value:0},...el.value]),al=o([]),tl=o(""),rl=o(),sl=o(),ol=o(),nl=o(),cl=o(""),il=o(void 0),ul=o(""),pl=o(!1),dl=o({x:0,y:0}),xl=o({getBoundingClientRect:()=>({width:0,height:0,top:dl.value.y,left:dl.value.x,bottom:dl.value.y,right:dl.value.x}),get clientWidth(){return 0},get clientHeight(){return 0}}),vl=o({}),ml=o(!1),gl=o({total:0,page:1,pageSize:50}),hl=o([]),{mode:fl}=c(i()),kl=n(()=>U.evmAddress||E.address);u(()=>E.walletSignature[E.address],e=>{e&&($l(),Vl())}),u(()=>U.evmAddress,e=>{e?($l(),Vl()):(hl.value=[],el.value=[])}),u(()=>E.address,e=>{e?($l(),Vl()):(hl.value=[],el.value=[])});const bl=e=>{Xe.value=e,gl.value.page=1,$l()},yl=()=>{il.value=void 0,cl.value=""},_l=()=>{al.value=L(el.value)},wl=async()=>{var e;const l=Y.service();try{null==(e=nl.value)||e.hide(),await se({address:kl.value,group:al.value.map(e=>e.group_id)}),l.close(),el.value=L(al.value),D.success(Ze("success"))}catch(a){l.close()}},Cl=e=>{const l=!!(null==e?void 0:e.token)&&["inscription",":","("].some(l=>e.token.includes(l));"brc20"===e.chain||"runes"===e.chain||l?Ye.push(`/brc/${e.token}-${e.chain}?from=/follow/token`):Ye.push(`/token/${e.token}-${e.chain}?from=/follow/token`)},Fl=({prop:e,order:l})=>{e&&("ascending"===l?hl.value=hl.value.toSorted((l,a)=>l[e]-a[e]):"descending"===l?hl.value=hl.value.toSorted((l,a)=>a[e]-l[e]):$l())},$l=async()=>{var e;ml.value=!0;const l=await ee({address:kl.value,group:Xe.value,pageNO:gl.value.page,pageSize:gl.value.pageSize}),a=l.data&&(null==(e=l.data)?void 0:e.map(e=>({id:`${e.token}-${e.chain}`,...e,price_change_24h:"brc20"==(null==e?void 0:e.chain)?e.price_change_v2||0:e.price_change||0,pool_circulating_supply:(e.total-e.lock_amount-e.burn_amount-e.other_amount)*e.current_price_usd,group_id:Xe.value})))||[];gl.value.total=l.total,hl.value=a,ml.value=!1},Vl=async()=>{const e=await le(kl.value);el.value=(e||[]).filter(e=>!!e.name).map(e=>({...e,label:e.name,value:e.group_id}))};return p(()=>{(U.evmAddress||E.address)&&($l(),Vl())}),(e,l)=>{const a=V,t=j,r=A,s=I,o=P,n=R,c=B,i=q,u=d("router-link"),p=Q,L=J,Y=O,ee=K,le=x("copy"),se=x("tooltip"),Ye=z;return m(),v("div",ie,[k(U).evmAddress||k(E).address?(m(),v("div",ue,[(m(!0),v(b,null,y(ll.value,(e,s)=>(m(),v("div",{key:e.value,class:_(["cursor-pointer text-12px color-[--d-999-l-666] bg-[--d-15171c-l-f2f2f2] px-8px h-28px rounded-4px shrink-0 flex items-center font-500",[Xe.value===e.value&&"bg-[--d-333-l-0A0B0C] color-[#F5F5F5]"]]),onClick:l=>bl(e.value)},[w(C(e.label)+" ",1),f(r,{trigger:"click",onHide:yl,ref_for:!0,ref_key:"editGroupPopoverRef",ref:ol,width:il.value?250:100,"popper-style":"min-width: 86px;padding: 10px 0;"},{reference:F(()=>[e.value>0?(m(),S(a,{key:0,onClick:l[0]||(l[0]=$(()=>{},["stop"])),name:"custom:set-up",class:"text-12px ml-2px"})):g("",!0)]),default:F(()=>[h("div",null,[il.value?(m(),v("div",he,[h("div",null,C(k(Ze)("rename")),1),f(t,{modelValue:cl.value,"onUpdate:modelValue":l[1]||(l[1]=e=>cl.value=e),placeholder:k(Ze)("enterGroupName"),class:"mt-8px w-100%"},null,8,["modelValue","placeholder"]),h("div",fe,[h("div",{onClick:e=>{var l;return null==(l=ol.value[s])?void 0:l.hide()},class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},C(k(Ze)("cancel")),9,ke),h("div",{onClick:l=>(async(e,l)=>{var a;if(!cl.value.trim())return D.error(Ze("enterGroupName"));if(cl.value.length>20)return D.error(Ze("maximum10characters"));try{await re(cl.value,e.value,kl.value),D.success(Ze("success")),null==(a=ol.value[l])||a.hide(),Vl()}catch(t){}})(e,s),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},C(k(Ze)("confirm")),9,be)])])):(m(),v("div",de,[h("div",{class:"flex items-center cursor-pointer hover:bg-[--d-333-l-0A0B0C] hover:color-[#F5F5F5] px-10px py-5px",onClick:$(l=>(e=>{il.value=e.value,cl.value=e.label})(e),["stop"])},[f(a,{name:"fe:edit",class:"color-#666 text-14px"}),h("view",ve,C(k(Ze)("rename")),1)],8,xe),h("div",{class:"flex items-center cursor-pointer hover:bg-[--d-333-l-0A0B0C] hover:color-[#F5F5F5] px-10px py-5px",onClick:$(l=>(async e=>{await M.confirm(Ze("removeFavGroupTips"),Ze("tips"),{confirmButtonText:Ze("confirm"),cancelButtonText:Ze("cancel"),dangerouslyUseHTMLString:!0,customClass:""}),await ae(e,kl.value),D.success(Ze("success")),Vl(),Xe.value!==e&&0!==Xe.value||bl(0)})(e.value),["stop"])},[f(a,{name:"bx:bxs-trash-alt",class:"text-15px color-#666"}),h("view",ge,C(k(Ze)("delete")),1)],8,me)]))])]),_:2},1032,["width"])],10,pe))),128)),f(r,{trigger:"click",onShow:l[6]||(l[6]=e=>rl.value.focus()),onHide:l[7]||(l[7]=e=>cl.value=""),ref_key:"addGroupPopoverRef",ref:sl,width:250},{reference:F(()=>[h("div",{style:{background:"rgba(63, 128, 247, 0.10)"},onClick:l[2]||(l[2]=e=>il.value=void 0),class:"cursor-pointer text-12px color-[#3F80F7] px-8px h-28px rounded-4px shrink-0 flex items-center"},[f(a,{name:"custom:add-icon",class:"text-12px mr-2px"}),w(" "+C(k(Ze)("newGroup")),1)])]),default:F(()=>[h("div",null,[h("div",null,C(k(Ze)("newGroup")),1),f(t,{ref_key:"addGroupInputRef",ref:rl,modelValue:cl.value,"onUpdate:modelValue":l[3]||(l[3]=e=>cl.value=e),placeholder:k(Ze)("enterGroupName"),class:"mt-8px w-200px"},null,8,["modelValue","placeholder"]),h("div",ye,[h("div",{onClick:l[4]||(l[4]=e=>{var l;return null==(l=sl.value)?void 0:l.hide()}),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},C(k(Ze)("cancel")),1),h("div",{onClick:l[5]||(l[5]=e=>(async()=>{var e;return cl.value.trim()?cl.value.length>20?D.error(Ze("maximum10characters")):el.value.some(e=>e.label===cl.value)?D.error(Ze("groupExistT")):(await te(cl.value,kl.value),D.success(Ze("success")),null==(e=sl.value)||e.hide(),void Vl()):D.error(Ze("enterGroupName"))})()),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},C(k(Ze)("confirm")),1)])])]),_:1},512),f(r,{trigger:"click",onHide:l[11]||(l[11]=e=>tl.value=""),ref_key:"moveGroupPopoverRef",ref:nl,width:250},{reference:F(()=>[h("div",{style:{background:"rgba(63, 128, 247, 0.10)"},onClick:_l,class:"cursor-pointer text-12px color-[#3F80F7] px-8px h-28px rounded-4px shrink-0 flex items-center"},[f(a,{name:"custom:list-icon",class:"text-12px mr-2px"}),w(" "+C(k(Ze)("groupManage")),1)])]),default:F(()=>[h("div",null,[h("div",null,C(k(Ze)("groupManage")),1),f(t,{modelValue:tl.value,"onUpdate:modelValue":l[8]||(l[8]=e=>tl.value=e),class:"mt-8px",placeholder:k(Ze)("searchGroup")},null,8,["modelValue","placeholder"]),f(k(Z),{modelValue:al.value,"onUpdate:modelValue":l[9]||(l[9]=e=>al.value=e),sort:!0,"ghost-class":"ghost",animation:300},{default:F(()=>[(m(!0),v(b,null,y(al.value.filter(e=>e.label.includes(tl.value)),e=>(m(),v("div",{class:"py-12px px-8px flex justify-between items-center hover:bg-[--d-2A2A2A-l-F2F2F2] cursor-move",key:e.value},[w(C(e.label)+" ",1),f(a,{name:"custom:move-icon",class:"text-16px shrink-0 ml-5px"})]))),128))]),_:1},8,["modelValue"]),h("div",_e,[h("div",{onClick:l[10]||(l[10]=e=>{var l;return null==(l=nl.value)?void 0:l.hide()}),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},C(k(Ze)("cancel")),1),h("div",{onClick:wl,class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},C(k(Ze)("confirm")),1)])])]),_:1},512)])):g("",!0),h("div",we,[G((m(),S(Y,{height:gl.value.total>50?"calc(100% - 72px)":"100%",data:hl.value,fit:"",onSortChange:Fl,onRowClick:Cl},{empty:F(()=>[k(U).evmAddress||k(E).address?(m(),v("div",Ce,[ml.value?(m(),v("span",je)):(m(),v("div",Fe,["light"===k(fl)?(m(),v("img",$e)):g("",!0),"dark"===k(fl)?(m(),v("img",Ve)):g("",!0),h("span",null,C(k(Ze)("emptyNoData")),1)]))])):(m(),S(o,{key:1},{default:F(()=>[h("span",Se,C(e.$t("noWalletTip")),1),f(s,{type:"primary",class:"mt-10px",onClick:l[12]||(l[12]=e=>k(U).$patch({connectVisible:!0}))},{default:F(()=>[w(C(e.$t("connectWallet")),1)]),_:1})]),_:1}))]),default:F(()=>[f(i,{label:k(Ze)("poolPair"),"min-width":"160","show-overflow-tooltip":""},{default:F(({row:t,$index:r})=>[f(c,{to:`/token/${t.token}-${t.chain}`,onClick:l[17]||(l[17]=$(()=>{},["stop","prevent"]))},{default:F(()=>{var s;return[h("div",Ae,[h("span",Ge," #"+C((gl.value.page-1)*gl.value.pageSize+r+1),1),kl.value?(m(),S(a,{key:0,name:"material-symbols:kid-star",class:"color-var(--d-999-l-666) h-16px w-16px clickable shrink-0 color-#ffbb19",onClick:$(e=>(e=>{ml.value=!0,ne(`${e.token}-${e.chain}`,kl.value).then(()=>{$l()}).catch(e=>{}).finally(()=>{ml.value=!1})})(t),["stop","prevent"])},null,8,["onClick"])):g("",!0),h("div",ze,[f(n,{class:"w-32px h-32px rounded-full",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:k(H))({chain:null==t?void 0:t.chain,symbol:t.symbol,logo_url:t.logo_url}),lazy:""},{error:F(()=>[h("img",{class:"w-32px h-32px rounded-full",src:k(T)(null==t?void 0:t.chain,t.symbol)},null,8,Be)]),placeholder:F(()=>[h("img",{class:"w-32px h-32px rounded-full",src:k(T)(null==t?void 0:t.chain,t.symbol)},null,8,Re)]),_:2},1032,["src"]),(null==t?void 0:t.chain)?(m(),v("img",{key:0,class:"w-12px h-12px absolute bottom-3px right-3px",src:`${k(W).token_logo_url}chain/${null==t?void 0:t.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,He)):g("",!0)]),h("div",Te,[h("div",Ne,[h("span",Ue,C(t.symbol),1),h("div",Ee,C(`[*${null==(s=null==t?void 0:t.token)?void 0:s.slice(-6)}]`),1),G(f(a,{onClick:l[13]||(l[13]=$(()=>{},["stop","prevent"])),name:"bxs:copy",class:"ml-4px clickable text-[--d-666-l-999] text-12px"},null,512),[[le,null==t?void 0:t.token]]),h("a",{class:"ml-4px flex items-center",href:`https://x.com/search?q=(${null==t?void 0:t.symbol}OR${null==t?void 0:t.token})&src=typed_query&f=live`,target:"_blank",onClick:l[14]||(l[14]=$(()=>{},["stop"]))},[f(a,{class:"text-[--d-666-l-999] h-12px w-12px text-12px",name:"custom:search"})],8,Pe)]),h("div",Ie,[t.remark?(m(),v("span",{key:0,class:"text-[#3f80f7] border-[0.5px] border-solid border-[#3f80f7] rounded-4px bg-transparent text-10px px-4px max-w-[60px] truncate",title:t.remark},C(t.remark),9,Me)):g("",!0),h("div",{ref:"buttonRef",onClick:$(e=>((e,l)=>{const a=l.currentTarget.getBoundingClientRect();dl.value={x:a.left+a.width/2,y:a.top+a.height/2},pl.value=!0,vl.value=e,ul.value=e.remark||""})(t,e),["stop","prevent"])},[f(a,{class:"text-[--d-666-l-999] w-12px h-12px ml-4px",name:"custom:remark"})],8,De),(null==t?void 0:t.twitter)?G((m(),v("a",{key:1,class:"flex items-center",href:null==t?void 0:t.twitter,target:"_blank",onClick:l[15]||(l[15]=$(()=>{},["stop"]))},[f(a,{name:"custom:twitter",class:"text-[--d-666-l-999] h-14px w-14px ml-4px"})],8,Le)),[[se,null==t?void 0:t.twitter]]):g("",!0),(null==t?void 0:t.telegram)?G((m(),v("a",{key:2,class:"flex items-center",href:null==t?void 0:t.telegram,target:"_blank",onClick:l[16]||(l[16]=$(()=>{},["stop"]))},[f(a,{name:"custom:tg",class:"text-[--d-666-l-999] h-14px w-14px ml-4px"})],8,We)),[[se,null==t?void 0:t.telegram]]):g("",!0)])])])]}),_:2},1032,["to"])]),_:1},8,["label"]),f(i,{label:k(Ze)("holders"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"holders",align:"right"},{default:F(({row:e})=>[h("span",null,C(e.holders),1)]),_:1},8,["label"]),f(i,{label:k(Ze)("price"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"current_price_usd",align:"right"},{default:F(({row:e})=>[h("span",{innerHTML:"$"+k(N)(e.current_price_usd)},null,8,qe)]),_:1},8,["label"]),f(i,{label:k(Ze)("marketCap"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"pool_circulating_supply",align:"right"},{default:F(({row:e})=>[w(" $"+C(k(N)(e.pool_circulating_supply||0,2,4,1e4)),1)]),_:1},8,["label"]),f(i,{label:"24h%",sortable:"custom","sort-orders":["descending","ascending",null],prop:"price_change_24h",align:"right"},{default:F(({row:e})=>[Number(e.price_change_24h||0)>0?(m(),v("span",Oe," +"+C(k(N)(e.price_change_24h||0,2))+"% ",1)):0==Number(e.price_change_24h||0)?(m(),v("span",Je," 0% ")):(m(),v("span",Qe,C(k(N)(e.price_change_24h||0,2))+"%",1))]),_:1}),f(i,{label:k(Ze)("riskScore"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"risk_score",align:"right"},{default:F(({row:e})=>[f(u,{to:{path:`/check/${e.token}-${e.chain}`},onClick:l[18]||(l[18]=$(()=>{},["stop"]))},{default:F(()=>[f(X,{progress:Number(e.risk_score/100)||0,width:40,thickness:2,big:!1,height:20,textHeight:15,end:!0,fontSize:"12px",class:"arc-progress"},null,8,["progress"])]),_:2},1032,["to"])]),_:1},8,["label"]),f(i,{label:k(Ze)("24Volume"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"tx_volume_u_24h",align:"right"},{default:F(({row:e})=>[w(" $"+C(k(N)((null==e?void 0:e.tx_volume_u_24h)||0,2,4,1e4)),1)]),_:1},8,["label"]),f(i,{label:k(Ze)("24TxAddress"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"tx_count_24h",align:"right"},{default:F(({row:e})=>[w(C(k(N)((null==e?void 0:e.tx_count_24h)||0,2,4,1e4)),1)]),_:1},8,["label"]),f(i,{label:k(Ze)("tokenGroup"),align:"right",width:"170"},{default:F(({row:e})=>[f(L,{modelValue:e.group_id,"onUpdate:modelValue":l=>e.group_id=l,placement:"bottom-end",style:{width:"100px"},"popper-class":"follow-select-popper",filterable:"",class:"[&&]:[--el-text-color-regular:var(--d-CCC-l-333)]",onClick:l[19]||(l[19]=$(()=>{},["stop"])),onChange:l=>(async(e,l)=>{const a=l.token+"-"+l.chain;await ce(a,e,kl.value),$l()})(l,e)},{default:F(()=>[(m(!0),v(b,null,y(ll.value,e=>(m(),S(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1},8,["label"])]),_:1},8,["height","data"])),[[Ye,ml.value]]),gl.value.total>1?(m(),S(ee,{key:0,class:"h-72px flex justify-end items-center","current-page":gl.value.page,"onUpdate:currentPage":l[20]||(l[20]=e=>gl.value.page=e),"page-size":gl.value.pageSize,"onUpdate:pageSize":l[21]||(l[21]=e=>gl.value.pageSize=e),layout:"prev, pager, next, ->",total:gl.value.total,"page-sizes":[10,20,30,40,50,60],"hide-on-single-page":"",onChange:$l},null,8,["current-page","page-size","total"])):g("",!0)]),f(r,{visible:pl.value,"virtual-ref":xl.value,"virtual-triggering":"",trigger:"click",width:250},{default:F(()=>[h("div",null,[h("div",null,C(k(Ze)("editRemark")),1),f(t,{modelValue:ul.value,"onUpdate:modelValue":l[22]||(l[22]=e=>ul.value=e),clearable:"",maxlength:"50","show-word-limit":"",placeholder:k(Ze)("enterRemark"),class:"mt-8px w-200px"},null,8,["modelValue","placeholder"]),h("div",Ke,[h("div",{onClick:l[23]||(l[23]=e=>pl.value=!1),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},C(k(Ze)("cancel")),1),h("div",{onClick:l[24]||(l[24]=e=>(async e=>{if(ul.value.length>50)return D.error(Ze("remarkError"));const l=e.token+"-"+e.chain;await oe(l,ul.value,kl.value),D.success(Ze("success")),pl.value=!1,$l()})(vl.value)),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},C(k(Ze)("confirm")),1)])])]),_:1},8,["visible","virtual-ref"])])}}}),[["__scopeId","data-v-ea7ae4ec"]]);export{Ye as default};
