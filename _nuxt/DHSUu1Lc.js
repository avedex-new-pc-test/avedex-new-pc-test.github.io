import{f as e,B as l,n as a,ao as o,ap as t,D as s,g as r,i as n,o as i,w as d,R as u,ae as c,j as p,aV as m,O as v,b as _,aW as g,a as h,t as f,mQ as x,c as y,F as k,r as w,E as b,L as F,d as V,W as $,d4 as C,_ as T,aq as z,p as N,ad as A,mR as E,s as S,y as B,x as U,ar as j,aJ as R,$ as H,aL as L,aM as W,aN as K,aO as q,k as O,a0 as P,K as G,l as I,au as M,av as D,cC as J,aK as Q,Y,J as X,at as Z,a_ as ee,aa as le,C as ae,z as oe,mS as te,ab as se,mT as re,mU as ne,az as ie,cH as de,aU as ue,aC as ce,a1 as pe,a5 as me,a6 as ve,ax as _e,ay as ge,ah as he}from"./B65fceU8.js";import{a as fe,E as xe}from"./2GY3xYIz.js";import{_ as ye}from"./DTm-TYre.js";import{_ as ke}from"./DhTyr8lc.js";import{_ as we}from"./wh_d0fk5.js";import{E as be}from"./z77-U_wr.js";import{a as Fe,E as Ve}from"./CzOUaPrr.js";import"./WwFlK4Sr.js";import"./C7T7CFu_.js";import{u as $e}from"./BIrrvYpm.js";import{E as Ce}from"./CnDKkNIY.js";import"./CMsCuTMf.js";import"./RganNtWS.js";import"./CbxefQZI.js";import"./DwCOqVai.js";import"./DSXY0Md2.js";import"./B2Gqj98b.js";const Te={class:"flex justify-between items-center w-100%"},ze={class:"font-500 text-12px lh-[120%] color-[var(--d-FFF-l-000)]"},Ne={class:"h-12px inline-flex items-center"},Ae=["src"],Ee=["src"],Se={class:"flex-between w-100%"},Be=T(e({__name:"addFavAddressPop",props:{width:{type:String,default:"248"},formData:{type:Object,required:!1,default:()=>({group_id:0,user_chain:{label:"SOL",value:"solana",id:"solana"}})},buttonRef:{type:Object,required:!0},title:{type:String,default:""}},emits:["onConfirm","onCancel"],setup(e,{expose:T,emit:z}){const{t:N}=l(),A=e,E=z,S=a(),{addressGroups:B}=o(t()),{lang:U,token_logo_url:j}=o(s()),R=a(),H=a({...A.formData}),L=a(!1),W=a(!1),K=a(""),q=(e,l,a)=>{var o;""===l?a(new Error(N("cannotBeEmpty"))):C(l,null==(o=H.value.user_chain)?void 0:o.id)?a():a(new Error(N("pleaseEnterCorrectAddress")))},O=(e,l,a)=>{var o;H.value.address&&(null==(o=R.value)||o.validateField("address")),a()},P=r(()=>({user_chain:[{validator:O,trigger:"change"}],address:[{required:!0,message:"zh-cn"==U.value||"zh-tw"==U.value?`${N("watchAddress")}${N("cannotBeEmpty")}`:`${N("watchAddress")} ${N("cannotBeEmpty")}`,trigger:["blur"]},{validator:q,trigger:"blur"}],group:[{required:!0,message:"zh-cn"==U.value||"zh-tw"==U.value?`${N("walletGroup")}${N("cannotBeEmpty")}`:`${N("walletGroup")} ${N("cannotBeEmpty")}`,trigger:["blur","change"]}],remark:[{required:!0,message:"zh-cn"==U.value||"zh-tw"==U.value?`${N("remark")}${N("cannotBeEmpty")}`:`${N("remark")} ${N("cannotBeEmpty")}`,trigger:"blur"},{pattern:/^(?!.*[!@#$%^&*(),.?":{}|<>])(.{2,50})$/,message:N("remarkError"),trigger:["blur"]}]})),G=a([{label:"SOL",value:"solana",id:"solana"},{label:"BSC",value:"56",id:"bsc"}]);function I(){W.value=!1}function M(){var e;E("onCancel"),null==(e=R.value)||e.resetFields(),J()}function D(){L.value=!1,K.value="",H.value={...A.formData}}function J(){var e,l;null==(l=null==(e=p(S))?void 0:e.hide)||l.call(e)}return T({close:J}),(e,l)=>{const a=Ve,o=Fe,t=g,s=b,r=F,C=m,T=$,z=c;return i(),n(T,{ref_key:"popoverRef",ref:S,width:null==A?void 0:A.width,trigger:"click",placement:"bottom","virtual-ref":A.buttonRef,"virtual-triggering":"",title:null==A?void 0:A.title,persistent:!1,"popper-style":"--el-popover-title-font-size:14px;--el-popover-title-text-color:var(--d-FFF-l-000)",onBeforeLeave:D},{default:d(()=>[u((i(),n(C,{ref_key:"formRef",ref:R,model:p(H),rules:p(P),onSubmit:l[4]||(l[4]=v(e=>{var l;(l=p(R))&&l.validate((e,l)=>{var a;e&&(W.value=!0,E("onConfirm",H.value,null==(a=R.value)?void 0:a.resetFields,I))})},["prevent","stop"]))},{default:d(()=>[_(t,{prop:"user_chain",required:"","label-position":"top",size:"large",class:"mb-13px!"},{default:d(()=>[h("div",Te,[h("h4",ze,f(e.$t("addWallet")),1),_(o,{modelValue:p(H).user_chain,"onUpdate:modelValue":l[0]||(l[0]=e=>p(H).user_chain=e),placeholder:p(N)("placeholderPrefix1")+p(N)("chain"),"value-key":"value",size:"small",style:{"--el-text-color-regular":"var(--d-FFF-l-000)","--el-select-input-color":"var(--d-FFF-l-000)"},"suffix-icon":p(x),class:"w-70px!",teleported:!1},{prefix:d(()=>{var e;return[h("div",Ne,[h("img",{src:`${p(j)}chain/${null==(e=p(H).user_chain)?void 0:e.id}.png`,class:"rd-50%",width:"12",lazy:"",alt:""},null,8,Ae)])]}),default:d(()=>[(i(!0),y(k,null,w(p(G),e=>(i(),n(a,{key:e.value,label:e.label,value:e,class:"h-20px! flex! items-center! font-400! text-10px! lh-20px!"},{default:d(()=>[h("img",{src:`${p(j)}chain/${null==e?void 0:e.id}.png`,class:"rd-50% mr-4px",width:"12",lazy:"",alt:""},null,8,Ee),h("span",null,f(e.label),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","suffix-icon"])])]),_:1}),_(t,{prop:"address",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:d(()=>[_(s,{modelValue:p(H).address,"onUpdate:modelValue":l[1]||(l[1]=e=>p(H).address=e),placeholder:p(N)("placeholderPrefix")+p(N)("walletAddress")},null,8,["modelValue","placeholder"])]),_:1}),_(t,{prop:"remark",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:d(()=>[_(s,{modelValue:p(H).remark,"onUpdate:modelValue":l[2]||(l[2]=e=>p(H).remark=e),placeholder:p(N)("placeholderPrefix")+p(N)("remark")},null,8,["modelValue","placeholder"])]),_:1}),_(t,{prop:"group_id",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:d(()=>[_(o,{modelValue:p(H).group_id,"onUpdate:modelValue":l[3]||(l[3]=e=>p(H).group_id=e),placeholder:p(N)("placeholderPrefix1")+p(N)("addrGroup"),teleported:!1},{default:d(()=>[(i(),n(a,{key:0,value:0,label:e.$t("defaultGroup")},null,8,["label"])),(i(!0),y(k,null,w(p(B),e=>(i(),n(a,{key:e.group_id,label:e.name,value:e.group_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1}),_(t,{class:"mb-0px!"},{default:d(()=>[h("div",Se,[_(r,{style:{background:"var(--d-333-l-F2F2F2)"},class:"flex-1",onClick:v(M,["stop","prevent"])},{default:d(()=>[V(f(e.$t("cancel")),1)]),_:1}),_(r,{type:"primary",class:"flex-1","native-type":"submit"},{default:d(()=>[V(f(e.$t("confirm")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])),[[z,p(W)]])]),_:1},8,["width","virtual-ref","title"])}}}),[["__scopeId","data-v-e139f4b4"]]),Ue={class:"flex justify-between items-center gap-8px h-54px"},je={class:"text-12px m-table","element-loading-background":"transparent"},Re=["onClick"],He=["src"],Le={class:"text-12px"},We=["onClick"],Ke={key:1,class:"flex items-center mr-4px color-[#666] cursor-not-allowed"},qe=T(e({__name:"walletManage",props:{scrollHeight:{type:Number,default:500}},setup(e){const{t:m}=l(),g=z(),x=e,{mode:b,isDark:C,token_logo_url:T}=o(s()),Y=a([{label:m("allChain"),value:"AllChains",id:"allChains"},{label:"Solana",value:"solana",id:"solana"},{label:"Bsc",value:"bsc",id:"bsc"}]),X=a(!1),Z=a(),ee=a();a(0);const le=$e(),{currentAddress:ae,showBatchAddressDetails:oe,updateNum1:te,updateNum2:se,updateNum3:re,addressGroups:ne}=o(t()),ie=N({group:le.selectGroupId,activeTab:"7d",isMonitor:!1,user_chain:"AllChains",sort:"",sort_dir:"",keyword:"",last_tx_time_max:"",last_tx_time_min:"",last_trade_time:""}),de=A();a([]);const ue=a(!1);a({total:10,page:1,pageSize:50});const ce=a({...E,pageSize:50}),pe=a(!1),me=r(()=>ce.value.loaded?m("loading"):ce.value.finished?m("noMore"):"");function ve(e,l,a){var o;J({address:de.evmAddress,user_chain:null==(o=null==e?void 0:e.user_chain)?void 0:o.id,user_address:e.address,remark:e.remark,group:e.group_id,is_monitored:0}).then(()=>{var e,o;null==l||l(),null==a||a(),null==(o=null==(e=ee.value)?void 0:e.close)||o.call(e),ce.value={...E,pageSize:50},fe(),se.value++}).catch(e=>{})}S(!0),B(()=>{de.evmAddress&&(le.monitorList1.length>0||fe())}),U(()=>te.value+re.value,()=>{ce.value={...E,pageSize:50},fe()});const _e=j(e=>{R({address:ae.value,user_chain:e.chain,user_address:e.user_address}).then(()=>{H.success(m("success")),fe(),se.value++}).catch(e=>{H.error(String(e))})},1e3),ge=j((e,l=0)=>{if(1===e.is_monitored){const{id:a,user_address:o}=e;return void(1===e.is_pause?L:W)({uid:a,address:o}).then(()=>{le.monitorList1[l].is_monitored=0===e.is_monitored?1:0,se.value++,H.success(m("success"))}).catch(e=>{H.error(String(e))})}{const{user_address:a,user_chain:o}=e;K({address:a,chain:o,user_address:de.evmAddress}).then(()=>{le.monitorList1[l].is_monitored=0===e.is_monitored?1:0,H.success(m("success")),se.value++}).catch(e=>{H.error(String(e))})}},1e3);function he(e){pe.value=e<=20,e<=20&&!ce.value.loaded&&!ce.value.finished&&fe()}U([()=>ie],()=>{ce.value={...E,pageSize:50},fe()},{deep:!0});const fe=j(function(){if(1===ce.value.pageNO&&(ue.value=!0),ce.value.loaded)return;ce.value.loaded=!0;const e=ce.value.pageNO,l=ce.value.pageSize;q({...ie,pageNO:e,pageSize:l}).then(a=>{var o,t;const s=(null==a?void 0:a.data)||[];Array.isArray(s)&&(null==s?void 0:s.length)>0?(1===e?(le.monitorList1=s.map(e=>({...e,index:`${e.user_address}-${e.user_chain}`,group_id:ie.group})),ue.value=!1):le.monitorList1=[...le.monitorList1].concat(null==(t=null==(o=s.filter)?void 0:o.call(s,e=>{var l,a;return null==(a=null==(l=le.monitorList1)?void 0:l.every)?void 0:a.call(l,l=>l.index!==`${e.user_address}-${e.user_chain}`)}))?void 0:t.map(e=>({...e,index:`${e.user_address}-${e.user_chain}`,group_id:ie.group}))),ce.value.finished=(null==s?void 0:s.length)<l,ce.value.finished||ce.value.pageNO++):(1===e&&(le.monitorList1=[]),ce.value.finished=!0)}).finally(()=>{setTimeout(()=>{ue.value=!1,ce.value.loaded=!1,pe.value=!1},200)})},500);const xe=r(()=>[{title:m("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:125},{title:m("addrGroup"),dataKey:"group",key:"group",minWidth:90,align:"right"},{title:m("chain"),dataKey:"chain",key:"chain",align:"right",minWidth:55},{title:m("operate"),dataKey:"operate",key:"operate",align:"right",minWidth:40}]);return(e,l)=>{const a=Ve,o=Fe,t=O,s=F,r=M,m=D,z=$,N=we,A=Be,S=c;return i(),y("div",null,[h("div",Ue,[_(o,{modelValue:p(le).selectGroupId,"onUpdate:modelValue":l[0]||(l[0]=e=>p(le).selectGroupId=e),mode:p(b),onClick:l[1]||(l[1]=v(()=>{},["stop"])),onChange:l[2]||(l[2]=e=>function(e){ie.group=e}(e))},{default:d(()=>[(i(),n(a,{key:0,value:0,label:e.$t("defaultGroup")},null,8,["label"])),(i(!0),y(k,null,w(p(ne),e=>(i(),n(a,{key:e.group_id,label:e.name,value:e.group_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","mode"]),_(s,{ref_key:"addButtonRef",ref:Z,style:{height:"32px",color:"var(--d-999-l-666) !important",padding:"8px 10px !important"},color:p(C)?"#333":"#F2F2F2",dark:p(C)},{default:d(()=>[_(t,{name:"ic:baseline-person-add-alt-1",class:"text-12px mr-5px"}),V(" "+f(e.$t("addWallet")),1)]),_:1},8,["color","dark"]),_(s,{color:p(C)?"#333":"#F2F2F2",style:{height:"32px",color:"var(--d-999-l-666) !important",padding:"8px 10px !important","margin-left":"0px"},onClick:l[3]||(l[3]=v(e=>oe.value=!0,["stop","prevent"])),dark:p(C)},{default:d(()=>[_(t,{name:"mingcute:new-folder-fill",class:"text-12px mr-5px"}),V(" "+f(e.$t("bulkImport")),1)]),_:1},8,["color","dark"])]),u((i(),y("div",je,[_(N,{ref:"aveTableRef",rowKey:"index",fixed:"",data:p(le).monitorList1,showFooter:p(pe),footText:p(me),columns:p(xe),headerHeight:36,rowHeight:40,headerClass:"bg-transparent",style:P({height:x.scrollHeight-50+"px","--el-table-border":"1px solid #333",overflow:"visible",paddingBottom:p(pe)?"20px":"0px"}),"row-class":"cursor-pointer group",rowEventHandlers:{onClick:({rowData:e})=>{return l=e,void g.push({path:`/address/${l.user_address}/${l.user_chain}`});var l}},onEndReached:he},{"header-wallet":d(()=>[h("span",null,f(e.$t("wallet")),1)]),"cell-wallet":d(({row:e})=>[(i(),n(r,{key:e.user_address+e.user_chain,class:"mr-10px",wallet_logo:e.wallet_logo,address:e.user_address,chain:e.user_chain,iconSize:"24px"},null,8,["wallet_logo","address","chain"])),h("div",null,[(i(),n(m,{key:e.user_address+e.user_chain,remark:e.remark,address:e.user_address,chain:e.user_chain,addressClass:"token-symbol ellipsis",addressStyle:"max-width: 60px;font-size: 14px;color:var(--d-EAECEF-l-333)",iconEditColor:"#999",iconEditSize:"10px",showAddressTitle:""},null,8,["remark","address","chain"]))])]),"header-group":d(()=>[h("span",null,f(e.$t("addrGroup")),1)]),"cell-group":d(({row:t})=>[_(o,{modelValue:t.group_id,"onUpdate:modelValue":e=>t.group_id=e,size:"small",onClick:l[4]||(l[4]=v(()=>{},["stop"])),onChange:e=>(async(e,l)=>{ce.value={...E,pageSize:50},await Q({user_chain:l.user_chain,user_address:l.user_address,group:e}),se.value++,fe()})(e,t)},{default:d(()=>[(i(),n(a,{key:0,value:0,label:e.$t("defaultGroup")},null,8,["label"])),(i(!0),y(k,null,w(p(ne),e=>(i(),n(a,{key:e.group_id,label:e.name,value:e.group_id},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),"header-chain":d(()=>[h("span",null,f(e.$t("chain")),1),_(z,{visible:p(X),"onUpdate:visible":l[5]||(l[5]=e=>I(X)?X.value=e:null),"popper-style":"width: 120px;min-width: 120px;",trigger:"click"},{reference:d(()=>[_(t,{id:"custom-filter",name:"custom:filter",style:P({color:"AllChains"!==p(ie).user_chain?"var(--d-F5F5F5-l-333)":"var(--custom-font-8-color)"}),class:"text-10px cursor-pointer ml-2px"},null,8,["style"])]),default:d(()=>[h("ul",null,[(i(!0),y(k,null,w(p(Y),e=>(i(),y("li",{key:e.value,class:"hover:bg-[--d-333-l-F2F2F2] h-26px! flex! items-center! font-500! text-14px! lh-20px! clickable",onClick:v(l=>{p(ie).user_chain=e.value,X.value=!1},["stop"])},["AllChains"==e.value?(i(),n(t,{key:0,name:"icon-park-outline:link-one",class:"text-15px mr-4px rd-50%"})):(i(),y("img",{key:1,src:`${p(T)}chain/${null==e?void 0:e.id}.png`,class:"rd-50% mr-4px",width:"16",lazy:"",alt:""},null,8,He)),h("span",null,f(e.label),1)],8,Re))),128))])]),_:1},8,["visible"])]),"cell-chain":d(({row:e})=>[h("span",Le,f(e.user_chain),1)]),"header-operate":d(()=>[h("span",null,f(e.$t("operate")),1)]),"cell-operate":d(({row:e,rowIndex:a})=>[h("div",{class:"flex justify-end items-center",onClick:l[6]||(l[6]=v(()=>{},["stop"]))},["solana"===(null==e?void 0:e.user_chain)||"bsc"===(null==e?void 0:e.user_chain)?(i(),y("div",{key:0,class:"flex items-center mr-4px cursor-pointer color-[#666]",onClick:v(l=>p(ge)(e,a),["stop","prevent"])},[_(t,{name:"custom:monitor-icon",class:G(["text-14px mr-2px",1===(null==e?void 0:e.is_monitored)&&"color-[--d-FFF-l-333]"])},null,8,["class"])],8,We)):(i(),y("div",Ke,[_(t,{name:"custom:monitor-icon",class:"text-14px mr-2px"})])),_(t,{name:"bx:bxs-trash-alt",class:"text-13px color-#666",onClick:v(l=>p(_e)(e),["stop","prevent"])},null,8,["onClick"])])]),_:1},8,["data","showFooter","footText","columns","style","rowEventHandlers"])])),[[S,p(ue)]]),_(A,{ref_key:"addFavAddressPopRef",ref:ee,buttonRef:p(Z),onOnConfirm:ve},null,8,["buttonRef"])])}}}),[["__scopeId","data-v-b6c55e54"]]),Oe=e({__name:"quickBuyInput",props:{modelValue:{type:String,default:"0.01"},size:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,o=l,t=r({get:()=>a.modelValue,set(e){o("update:modelValue",e)}});function s(e){t.value=e.replace(/-|[^\d.]/g,"")}function u(){var e;const l=null==(e=new Y(t.value||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,4})?")))?void 0:e[0];String(t.value)!==String(l)&&(""===t.value?t.value="":0===Number(l)?t.value="0":t.value=l||"0")}return(l,a)=>{const o=O,r=b;return i(),n(r,{modelValue:p(t),"onUpdate:modelValue":a[0]||(a[0]=e=>I(t)?t.value=e:null),modelModifiers:{trim:!0},size:e.size,clearable:"",placeholder:"0",class:"[--el-fill-color-blank:--d-222-l-FFF] [--el-component-size-small:22px] [&&]:[--el-input-width:88px] [--el-text-color-regular:--d-999-l-666] [--el-input-icon-color:--d-999-l-666] [--el-text-color-placeholder:--d-999-l-666] [--el-border-color:transparent]",onInput:s,onBlur:u},{prefix:d(()=>[_(o,{name:"mynaui:lightning-solid"})]),_:1},8,["modelValue","size"])}}}),Pe=e({__name:"checkboxGroup",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},inline:{type:Boolean,default:!1},all:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const o=e,t=r({get:()=>o.modelValue,set:e=>s("update:modelValue",e)}),s=l,u=a(!1),c=a(!0),m=e=>{t.value=e?o.options.map(e=>e.value):[],c.value=!1},v=e=>{if(!o.all)return;const l=e.length;u.value=l===o.options.length,c.value=l>0&&l<o.options.length};return(e,l)=>{const a=Z,s=ee;return i(),y(k,null,[o.options.length&&o.all?(i(),n(a,{key:0,modelValue:p(u),"onUpdate:modelValue":l[0]||(l[0]=e=>I(u)?u.value=e:null),indeterminate:p(c),disabled:p(u),onChange:m},{default:d(()=>[V(f(e.$t("all")),1)]),_:1},8,["modelValue","indeterminate","disabled"])):X("",!0),_(s,{modelValue:p(t),"onUpdate:modelValue":l[1]||(l[1]=e=>I(t)?t.value=e:null),min:1,class:G([o.inline?"flex flex-row":"flex flex-col"]),onChange:v},{default:d(()=>[(i(!0),y(k,null,w(o.options,e=>(i(),n(a,{key:e.value,label:e.label,value:e.value},{default:d(()=>[V(f(e.label),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","class"])],64)}}}),Ge=e({__name:"filterType",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,o=r({get:()=>a.modelValue,set:e=>t("update:modelValue",e)}),t=l;return(e,l)=>{const t=O,s=Pe,r=Ce;return i(),n(r,{trigger:"click","popper-class":"w-filterType"},{dropdown:d(()=>[_(s,{modelValue:p(o),"onUpdate:modelValue":l[0]||(l[0]=e=>I(o)?o.value=e:null),options:a.options},null,8,["modelValue","options"])]),default:d(()=>[_(t,{id:"custom-filter",name:"custom:filter",class:"text-12px cursor-pointer"})]),_:1})}}}),Ie={class:"w-monitor w-100% h-100% bg-[--d-111-l-FFF] px-12px relative overflow-hidden"},Me={class:"text-12px mt-10px"},De={key:0,class:"text-12px m-table","element-loading-background":"transparent"},Je={key:0,class:"color-#FFA622 text-12px"},Qe={key:1,class:"color-[--d-999-l-666] text-12px"},Ye={key:1,class:"color-[--d-999-l-666] text-12px"},Xe={key:0,src:"https://www.iconaves.com/signals/pump_king.png",style:{width:"12px",height:"12px"}},Ze={key:1,class:"text-12px m-table","element-loading-background":"transparent"},el={class:"flex-between w-100%"},ll={class:"flex-start gap-8px"},al={class:"flex flex-col w-100% gap-8px"},ol={class:"flex-between"},tl={class:"flex-between"},sl={class:"flex-start gap-4px"},rl={key:0,src:"https://www.iconaves.com/signals/pump_king.png",style:{width:"12px",height:"12px"}},nl={class:"color-[var(--d-666-l-999)]"},il={key:0,class:"color-#FFA622 text-12px"},dl={key:1,class:"color-[--d-999-l-666] text-12px"},ul={key:1,class:"color-[--d-999-l-666] text-12px"},cl={class:"text-12px mt-10px"},pl={class:"m-op flex-end gap-8px cursor-move w-100% h-100%"},ml=T(e({__name:"index",props:{scrollHeight:{type:Number,default:0},isLarge:{type:Boolean,default:!1}},setup(e){const{t:m}=l(),g=$e(),{hasRing:x}=o(g),{currentAddress:w,showBatchAddressDetails:b,updateNum3:$}=o(t()),{isDark:C}=o(s()),T=e,z=a([]),N=a([]),E=a(!1),S=A(),R=le(),H=a(null),L=a(!0),W=a([0,1]),K=a(),q=a(!1),M=a();a(0);const Q=ae("quickBuyValue","0.01"),Z=r(()=>[{label:m("buy"),value:0},{label:m("sell"),value:1}]),ee=r(()=>({scrollHeight:T.scrollHeight}));function Fe(e){1===e&&ze()}function Ve(e,l,a){var o;J({address:S.evmAddress,user_chain:null==(o=null==e?void 0:e.user_chain)?void 0:o.id,user_address:null==e?void 0:e.address,remark:null==e?void 0:e.remark,group:null==e?void 0:e.group_id,is_monitored:0}).then(()=>{var e,o;null==l||l(),null==a||a(),null==(o=null==(e=M.value)?void 0:e.close)||o.call(e),$.value++}).catch(e=>{})}B(async()=>{oe(()=>{const e=document.querySelector(".m-tabs .el-tabs__header.is-top");e&&(e.className="el-tabs__header is-top drag-handle")}),Ne()}),U(()=>W.value,e=>{const l=[];e.includes(0)&&l.push("buy"),e.includes(1)&&l.push("sell"),te(l).then(()=>{Ae()})}),U(()=>g.visible,e=>{e&&1===g.activeName&&(ze(),oe(()=>{!L.value&&H.value&&H.value.scrollToTop(0),L.value=!1}))});const Ce=r(()=>T.isLarge?[{title:m("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:125},{title:m("type"),dataKey:"type",key:"type",minWidth:110,align:"right"},{title:m("value"),dataKey:"amount",key:"amount",align:"right",minWidth:80},{title:m("token"),dataKey:"symbol",key:"symbol",align:"right",minWidth:150},{title:m("mcap"),dataKey:"mc",key:"mc",align:"right",minWidth:70},{title:m("time"),dataKey:"time",key:"time",align:"right",minWidth:40},{title:"",dataKey:"operate",key:"operate",align:"right",minWidth:100}]:[{title:m("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:240}]);U(()=>R.wsResult[se.MONITOR],e=>{g.visible&&1===g.activeName&&Te(e)});const Te=e=>{var l,a,o,t,s;if((null==e?void 0:e.length)>0){const r=(null==N?void 0:N.value)||[],n=[...(null==(o=null==(a=null==(l=null==e?void 0:e.filter)?void 0:l.call(e,e=>!r.some(l=>l.id===e.id)))?void 0:a.map)?void 0:o.call(a,e=>({...e,...Ue(e)})))||[],...r];n.length>200&&(null==(t=null==n?void 0:n.splice)||t.call(n,100)),N.value.splice(0,null==(s=N.value)?void 0:s.length,...n),ze()}},ze=j(function(){var e;g.visible&&1===g.activeName&&z.value.splice(0,null==(e=z.value)?void 0:e.length,...N.value)},500);function Ne(){Ae()}function Ae(){if(!S.evmAddress)return;E.value=!0;let e="";W.value.length!==Z.value.length&&(e=W.value.join(",")),re(e?{filtered_type:e}:{}).then(e=>{var l;let a=e||(null==e?void 0:e.data)||[];const o=[],t={};a=Array.isArray(a)?a:[],null==(l=null==a?void 0:a.forEach)||l.call(a,e=>{const l=JSON.parse(e.msg_content);t[l.id]||(o.push({...l,...Ue(l)}),t[l.id]=!0)}),N.value=o,ze()}).catch(e=>{}).finally(()=>{E.value=!1})}function Ee(e){return void 0!==e.position_type?0===e.position_type||1===e.position_type:0===e.tx_type}function Se(e){if(void 0!==e.position_type){const l=[m("createPosition"),m("addPosition"),m("reducePosition"),m("closePosition")];return(null==l?void 0:l[Number(null==e?void 0:e.position_type)])||""}{const l=[m("buy"),m("sell")];return(null==l?void 0:l[Number(e.tx_type)])||""}}U(()=>S.evmAddress,e=>{e?Ne():z.value=[]});const Ue=function(e){const l=Ee(e),a={...e,_marker:{maker_address:(null==e?void 0:e.maker_address)||(null==e?void 0:e.wallet_address),maker_alias:null==e?void 0:e.maker_alias,maker_logo:null==e?void 0:e.maker_logo,maker_tags:null==e?void 0:e.maker_tags,isBuy:l},_profit:"--"==(null==e?void 0:e.pnl_usd)?"--":"$"+ie(Math.abs((null==e?void 0:e.pnl_usd)||0)||0,2),_profit_ratio:"--"==(null==e?void 0:e.pnl_usd)?"--":ie(100*((null==e?void 0:e.pnl_ratio)||0)||0,2,4,4)+"%",_mc:"$"+ne((null==e?void 0:e.target_mcap)||0,{decimals:0,limit:3}),_type:Se(e),_rise:"--"==(null==e?void 0:e.pnl_usd)||(null==e?void 0:e.pnl_usd)>=0};return a._main_Token={amount:ie(e[l?"from_amount":"to_amount"]||0,1),price:"$"+ie(e[l?"from_price_usd":"to_price_usd"]||0),symbol:e[l?"from_symbol":"to_symbol"],total:"$"+ie(new Y(e[l?"from_amount":"to_amount"]||0).times(e[l?"from_price_usd":"to_price_usd"]||0).toFixed(0)||0,2,4,4),address:e[l?"from_address":"to_address"],tags:e[l?"from_tags":"to_tags"],signals:e[l?"from_signals":"to_signals"]},a._target_Token={amount:ie(e[l?"to_amount":"from_amount"]||0,1),price:"$"+ie(e[l?"to_price_usd":"from_price_usd"]||0),total:"",symbol:e[l?"to_symbol":"from_symbol"],address:e[l?"to_address":"from_address"],tags:e[l?"to_tags":"from_tags"],signals:e[l?"to_signals":"from_signals"],logo_url:e[l?"to_logo":"from_logo"]},a};function je(e,l){var a;l&&l.stopPropagation();const o=(null==e?void 0:e.chain)||"eth",t=(null==(a=null==e?void 0:e._marker)?void 0:a.maker_address)||(null==e?void 0:e.wallet_address);t&&he(`/address/${t}/${o}`)}function Re({e:e,rowData:l}){var a;e&&e.stopPropagation();const o=(null==(a=null==l?void 0:l._target_Token)?void 0:a.address)+"-"+l.chain;he(`/token/${o}`,{replace:!0})}return(l,a)=>{const o=O,t=F,s=ce,r=fe,m=D,w=ye,b=ve,$=pe,N=ke,A=we,B=be,U=xe,j=Be,R=c;return i(),y("div",Ie,[_(o,{name:"custom:drag2",class:"absolute top-3px left-50% ml--6px text-6px bg-[--d-333-l-F2F2F2]"}),_(U,{modelValue:p(g).activeName,"onUpdate:modelValue":a[12]||(a[12]=e=>p(g).activeName=e),style:{},class:"m-tabs",onTabChange:Fe},{default:d(()=>[_(r,{label:l.$t("walletManage"),name:0,lazy:""},{default:d(()=>[p(S).evmAddress?(i(),n(qe,de(ue({key:0},p(ee))),null,16)):(i(),n(s,{key:1,style:P({height:T.scrollHeight-50+"px"}),class:"overflow-hidden"},{default:d(()=>[h("span",Me,f(l.$t("noBotWalletTip")),1),_(t,{class:"mt-10px",onClick:a[0]||(a[0]=e=>p(S).$patch({connectVisible:!0}))},{default:d(()=>[V(f(l.$t("connectWallet")),1)]),_:1})]),_:1},8,["style"]))]),_:1},8,["label"]),_(r,{label:l.$t("monitored"),name:1,lazy:""},{default:d(()=>[p(S).evmAddress?(i(),y(k,{key:0},[T.isLarge?u((i(),y("div",De,[_(A,{ref_key:"aveTableRef",ref:H,rowKey:"id",data:p(z),columns:p(Ce),fixed:"",style:P({height:T.scrollHeight+"px","--el-table-border":"1px solid #333"}),headerClass:"bg-transparent","row-class":"cursor-pointer",rowEventHandlers:{onClick:e=>Re(e)}},{"header-wallet":d(()=>[h("span",null,f(l.$t("wallet")),1)]),"cell-wallet":d(({row:e})=>[(i(),n(m,{key:e._marker.maker_address,address:e._marker.maker_address,chain:e.chain,remark:e.maker_alias||"",showIcon:!0,teleported:!0,wallet_logo:e.maker_logo?{logo:e.maker_logo,vip_logo:"https://www.iconaves.com/address_portrait/KOL_V.png"}:{},iconSize:"24px",formatAddress:e=>(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)),onUpdateRemark:Ae,onClick:l=>je(e,l)},null,8,["address","chain","remark","wallet_logo","formatAddress","onClick"]))]),"header-type":d(()=>[h("span",null,f(l.$t("type")),1)]),"cell-type":d(({row:e})=>[_(w,{type:e._marker.isBuy?"success":"danger"},{default:d(()=>[V(f(Se(e)),1)]),_:2},1032,["type"])]),"header-amount":d(()=>[h("span",null,f(l.$t("value")),1)]),"cell-amount":d(({row:e})=>{var l,a;return[h("span",{class:G(Ee(e)?`color-${p(_e)[0]}`:`color-${p(ge)[0]}`)},f(p(q)?null==e?void 0:e._main_Token.total:(null==(l=null==e?void 0:e._main_Token)?void 0:l.amount)+(null==(a=null==e?void 0:e._main_Token)?void 0:a.symbol)),3)]}),"header-mc":d(()=>[h("span",null,f(p(q)?l.$t("price"):l.$t("mcap")),1)]),"cell-mc":d(({row:e})=>{var l;return[h("span",null,f(p(q)?null==(l=null==e?void 0:e._target_Token)?void 0:l.price:null==e?void 0:e._mc),1)]}),"header-time":d(()=>[h("span",null,f(l.$t("time")),1)]),"cell-time":d(({row:e})=>[(null==e?void 0:e.time)&&Number(("formatTimeFromNow"in l?l.formatTimeFromNow:p(me))(null==e?void 0:e.time,!0))<60?(i(),n(b,{key:null==e?void 0:e.time,timestamp:null==e?void 0:e.time,"end-time":60},{default:d(({seconds:a})=>[a<60?(i(),y("span",Je,f(a)+"s ",1)):(i(),y("span",Qe,f(("formatTimeFromNow"in l?l.formatTimeFromNow:p(me))(null==e?void 0:e.time)),1))]),_:2},1032,["timestamp"])):(i(),y("div",Ye,f(("formatTimeFromNow"in l?l.formatTimeFromNow:p(me))(null==e?void 0:e.time)),1))]),"header-symbol":d(()=>[h("span",null,f(l.$t("token")),1)]),"cell-symbol":d(({row:e})=>{var l,a;return[_($,{row:{logo_url:null==(l=null==e?void 0:e._target_Token)?void 0:l.logo_url,chain:null==e?void 0:e.chain},"token-class":"w-16px h-16px [&&]:mr-4px"},null,8,["row"]),h("span",null,f(null==(a=null==e?void 0:e._target_Token)?void 0:a.symbol),1),"pump"==(null==e?void 0:e.amm)?(i(),y("img",Xe)):X("",!0)]}),"header-operate":d(()=>a[13]||(a[13]=[h("span",null,null,-1)])),"cell-operate":d(({row:e})=>{var l;return[_(N,{quickBuyValue:p(Q),row:{...e,target_token:null==e?void 0:e.target_address,token0_address:null==e?void 0:e.from_address,token1_address:null==e?void 0:e.to_address,symbol:null==(l=null==e?void 0:e._target_Token)?void 0:l.symbol},classNames:"min-w-70px h-24px!",mainNameVisible:""},null,8,["quickBuyValue","row"])]}),_:1},8,["data","columns","style","rowEventHandlers"])])),[[R,p(E)]]):u((i(),y("div",Ze,[_(A,{ref_key:"aveTableRef",ref:H,rowKey:"id",fixed:"",data:p(z),columns:p(Ce),headerHeight:54,rowHeight:70,headerClass:"bg-transparent",style:P({height:T.scrollHeight+"px","--el-table-border":"1px solid #333"}),"row-class":"cursor-pointer",rowEventHandlers:{onClick:e=>Re(e)}},{"header-wallet":d(()=>[h("div",el,[h("div",ll,[_(Ge,{modelValue:p(W),"onUpdate:modelValue":a[1]||(a[1]=e=>I(W)?W.value=e:null),options:p(Z)},null,8,["modelValue","options"]),_(o,{name:"icon-park-solid:volume-notice",style:"color:var(--d-F5F5F5-l-333)"}),_(B,{modelValue:p(x),"onUpdate:modelValue":a[2]||(a[2]=e=>I(x)?x.value=e:null),size:"small"},null,8,["modelValue"]),_(w,{size:"small",class:"cursor-pointer w-55px",onClick:a[3]||(a[3]=e=>q.value=!p(q))},{default:d(()=>[V(f(p(q)?"C/MC":"U/Pri"),1),_(o,{name:"lsicon:switch-filled",class:"ml-4px text-12px"})]),_:1})]),_(Oe,{modelValue:p(Q),"onUpdate:modelValue":a[4]||(a[4]=e=>I(Q)?Q.value=e:null),size:"small"},null,8,["modelValue"])])]),"cell-wallet":d(({row:e})=>{var a,o,t,s,r,u;return[h("div",al,[h("div",ol,[(i(),n(m,{key:e._marker.maker_address,address:e._marker.maker_address,chain:e.chain,remark:e.maker_alias||"",showIcon:!0,teleported:!0,wallet_logo:e.maker_logo?{logo:e.maker_logo,vip_logo:"https://www.iconaves.com/address_portrait/KOL_V.png"}:{},iconSize:"24px",formatAddress:e=>(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)),onUpdateRemark:Ae,onClick:l=>je(e,l)},null,8,["address","chain","remark","wallet_logo","formatAddress","onClick"])),_(N,{quickBuyValue:p(Q),row:{...e,target_token:null==e?void 0:e.target_address,token0_address:null==e?void 0:e.from_address,token1_address:null==e?void 0:e.to_address,symbol:null==(a=null==e?void 0:e._target_Token)?void 0:a.symbol},classNames:"min-w-70px h-24px!",mainNameVisible:""},null,8,["quickBuyValue","row"])]),h("div",tl,[h("div",sl,[h("div",null,f(Se(e)),1),h("span",{class:G(Ee(e)?`color-${p(_e)[0]}`:`color-${p(ge)[0]}`)},f(p(q)?null==e?void 0:e._main_Token.total:(null==(o=null==e?void 0:e._main_Token)?void 0:o.amount)+(null==(t=null==e?void 0:e._main_Token)?void 0:t.symbol)),3),_($,{row:{logo_url:null==(s=null==e?void 0:e._target_Token)?void 0:s.logo_url,chain:null==e?void 0:e.chain},"token-class":"w-16px h-16px [&&]:mr-4px"},null,8,["row"]),h("span",null,f(null==(r=null==e?void 0:e._target_Token)?void 0:r.symbol),1),"pump"==(null==e?void 0:e.amm)?(i(),y("img",rl)):X("",!0),h("span",nl,f(p(q)?l.$t("price"):l.$t("mcap")),1),h("span",null,f(p(q)?null==(u=null==e?void 0:e._target_Token)?void 0:u.price:null==e?void 0:e._mc),1)]),(null==e?void 0:e.time)&&Number(("formatTimeFromNow"in l?l.formatTimeFromNow:p(me))(null==e?void 0:e.time,!0))<60?(i(),n(b,{key:null==e?void 0:e.time,timestamp:null==e?void 0:e.time,"end-time":60},{default:d(({seconds:a})=>[a<60?(i(),y("span",il,f(a)+"s ",1)):(i(),y("span",dl,f(("formatTimeFromNow"in l?l.formatTimeFromNow:p(me))(null==e?void 0:e.time)),1))]),_:2},1032,["timestamp"])):(i(),y("div",ul,f(("formatTimeFromNow"in l?l.formatTimeFromNow:p(me))(null==e?void 0:e.time)),1))])])]}),_:1},8,["data","columns","style","rowEventHandlers"])])),[[R,p(E)]])],64)):(i(),n(s,{key:1,style:P({height:T.scrollHeight-50+"px"}),class:"overflow-hidden"},{default:d(()=>[h("span",cl,f(l.$t("noBotWalletTip")),1),_(t,{class:"mt-10px",onClick:a[5]||(a[5]=e=>p(S).$patch({connectVisible:!0}))},{default:d(()=>[V(f(l.$t("connectWallet")),1)]),_:1})]),_:1},8,["style"]))]),_:1},8,["label"]),_(r,{name:p(g).activeName},{label:d(()=>[h("div",pl,[1===p(g).activeName&&T.isLarge?(i(),y(k,{key:0},[_(Ge,{modelValue:p(W),"onUpdate:modelValue":a[6]||(a[6]=e=>I(W)?W.value=e:null),options:p(Z)},null,8,["modelValue","options"]),_(o,{name:"icon-park-solid:volume-notice"}),_(B,{modelValue:p(x),"onUpdate:modelValue":a[7]||(a[7]=e=>I(x)?x.value=e:null),size:"small"},null,8,["modelValue"]),_(w,{size:"small",class:"cursor-pointer w-55px",onClick:a[8]||(a[8]=e=>q.value=!p(q))},{default:d(()=>[V(f(p(q)?"C/MC":"U/Pri"),1),_(o,{name:"lsicon:switch-filled",class:"ml-4px text-12px"})]),_:1})],64)):X("",!0),1===p(g).activeName&&p(S).evmAddress?(i(),n(t,{key:1,ref:e=>K.value=e,size:"small",style:{height:"20px",color:"var(--d-999-l-666) !important"},color:p(C)?"#333":"#F2F2F2",dark:p(C)},{default:d(()=>[_(o,{name:"ic:baseline-person-add-alt-1",class:"text-12px mr-5px"}),V(" "+f(l.$t("addWallet")),1)]),_:1},8,["color","dark"])):X("",!0),1===p(g).activeName&&e.isLarge?(i(),n(Oe,{key:2,modelValue:p(Q),"onUpdate:modelValue":a[9]||(a[9]=e=>I(Q)?Q.value=e:null),size:"small"},null,8,["modelValue"])):X("",!0),_(o,{class:"text-14px color-[var(--d-999-l-666)] hover:color-[--d-F5F5F5-l-333] cursor-pointer",name:"custom:pump-setting",onClick:a[10]||(a[10]=v(e=>("navigateTo"in l?l.navigateTo:p(he))("/follow/addr",{replace:!0}),["stop","prevent"]))}),_(o,{name:"custom:close",class:"text-14px shrink-0 cursor-pointer color-[--d-FFF-l-333]",onClick:a[11]||(a[11]=v(e=>p(g).visible=!1,["self"]))})])]),_:1},8,["name"])]),_:1},8,["modelValue"]),_(j,{ref_key:"addFavAddressPopRef",ref:M,buttonRef:p(K),onOnConfirm:Ve},null,8,["buttonRef"])])}}}),[["__scopeId","data-v-80b1c4a1"]]);export{ml as default};
