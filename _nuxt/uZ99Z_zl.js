import{E as e,a as t}from"./DnulTJLV.js";import{n as a,ax as l,bv as o,bC as r,av as s,D as i,F as n,E as d,du as c,dp as m,aA as p,a7 as u,c as x,o as v,M as f,a as b,fi as h,J as _,b as g,w,d as y,t as k,aG as N,aq as T,a8 as $,H as j,S as M,aK as H,aa as Y,a9 as D,_ as C}from"./Ck65DhTU.js";import{E as F}from"./CsJaFgS0.js";import"./BwAGr_Cw.js";import"./CPubcWut.js";import{_ as S,a as A,b as E}from"./Cu_3mGCq.js";import{a as q}from"./Dth2FjKW.js";import"./BZz6c_uP.js";import"./B6IuEvha.js";import"./BbIkpTl9.js";const I={class:"flex mt--12px relative"},K=["infinite-scroll-disabled"],O={class:"text-12px mt-10px color-[--third-text]"},Z={key:0,src:A,alt:""},z={key:1,src:E,alt:""},G={class:"text-12px text-center color-[--third-text] pb-10px"},J={key:0},R={key:1},B={class:"border-l-1px border-l-solid border-l-[--main-divider] p-20px box-border w-298px responsive"},L={class:"text-16px color-[--secondary-text] lh-16px mb-16px"},P={class:"flex items-center gap-6px color-[--secondary-text] text-12px mb-8px"},Q={class:"color-[--third-text] text-12px"},U={class:"justify-between flex"},V={class:"color-[--secondary-text] text-12px mb-8px mr-6px"},W={class:"color-[--third-text] text-12px"},X={class:"flex gap-4px color-[--secondary-text] text-12px mb-8px"},ee={class:"color-[--third-text] text-12px"},te={class:"flex gap-4px color-[--secondary-text] text-12px"},ae={class:"color-[--third-text] text-12px"},le={class:"font-bold text-24px lh-30px color-[--main-text] mb-4px"},oe={class:"color-[--third-text] text-12px"},re={class:"text-16px lh-16px color-[--secondary-text] mb-8px"},se={class:"flex gap-4px color-[--secondary-text] text-12px mb-8px"},ie={class:"color-[--third-text] text-12px"},ne={class:"flex gap-4px color-[--secondary-text] text-12px mb-8px"},de={class:"color-[--third-text] text-12px"},ce=C(a({__name:"index",setup(a){const{t:C}=l(),A=o(),E=d(()=>A.token),ce=n({}),me=n([]),pe=n(1),ue=n(20),xe=n(!1),ve=n(!1),fe=n(!1),be=r("conditions_dev_tokens",{sort:"created_at",sort_dir:"desc"}),he=n({});let _e=null;const ge=s(),we=d(()=>ge.params.id),ye=d(()=>Math.max(A.commonHeight-260,450)),ke=()=>{me.value=[],pe.value=1,ue.value=5,xe.value=!1,ve.value=!1,fe.value=!1};i(()=>ge.params.id,e=>{e&&(ke(),_e&&clearTimeout(_e),Te())});const Ne=({prop:e,order:t})=>{var a;ke();const l=null==(a=null==t?void 0:t.replace)?void 0:a.call(t,"ending","");be.value.sort=e,be.value.sort_dir=l,Te()};async function Te(){var e;if(!xe.value){xe.value=!0;try{const t={token_id:we.value,pageNO:pe.value,pageSize:ue.value},a=await q(t),{dev_address:l,total_migrated:o,total_non_migrated:r,total_tokens:s}=a;1===pe.value&&(me.value=[],async function(e){var t;const a=null==(t=A.token)?void 0:t.chain,l=await c({chain:a,walletAddress:e,tokens:[m(a)]});he.value=l[0]||{balance:0}}(l)),ce.value={dev_address:l,total_migrated:o,total_non_migrated:r,total_tokens:s};const i=(null==(e=null==a?void 0:a.infos)?void 0:e.map(e=>{var t;return{...e,chain:null==(t=E.value)?void 0:t.chain,createdAt:"1970-01-01T00:00:00Z"!==(null==e?void 0:e.created_at)&&"0001-01-01T00:00:00Z"!==(null==e?void 0:e.created_at)?new Date(e.created_at).getTime()/1e3:0}}))||[];me.value.push(...i),i.length<ue.value?(ve.value=!0,fe.value=!0,_e&&clearTimeout(_e),_e=setTimeout(()=>{fe.value=!1},3e3)):pe.value++}catch(t){me.value=[],ve.value=!0}finally{xe.value=!1}}}function $e(){window.open(`https://x.com/search?q=${ce.value.dev_address}`)}function je(){var e;window.open(D(null==(e=E.value)?void 0:e.chain,ce.value.dev_address||"","address"))}return Te(),p(()=>{_e&&clearTimeout(_e)}),(a,l)=>{var o,r,s,i,n,d,c;const m=e,p=t,D=Y,q=F,_e=u("tooltip"),ge=h,we=u("copy");return v(),x("div",I,[f((v(),x("div",{class:"pt-12px flex-1 min-w-0","infinite-scroll-disabled":_(xe)||_(ve),"infinite-scroll-distance":20,"infinite-scroll-delay":200,"infinite-scroll-immediate":!1},[g(p,{ref:"table_ref",height:_(ye),data:_(me),"default-sort":{prop:_(be).sort,order:_(be).sort_dir?_(be).sort_dir+"ending":null},fit:"","header-row-class-name":"text-12px","row-class-name":"cursor-pointer color-[--secondary-text] text-12px",onSortChange:Ne},{empty:w(()=>[_(xe)?M("",!0):(v(),j(H,{key:0,class:"table-empty"},{default:w(()=>[b("span",O,k(a.$t("emptyNoData")),1)]),_:1}))]),default:w(()=>[g(S,{subImgKey:"issue_platform","column-props":{label:a.$t("walletToken"),width:"170",fixed:"left"}},null,8,["column-props"]),g(m,{align:"right",width:100,sortable:"custom","sort-orders":["descending","ascending",null],label:a.$t("time"),prop:"created_at"},{default:w(({row:e})=>[f((v(),x("span",null,[y(k(("formatTimeFromNow"in a?a.formatTimeFromNow:_(N))(_(T)(e.created_at).unix())),1)])),[[_e,_(T)(e.created_at).format("YYYY-MM-DD HH:mm:ss")]])]),_:1},8,["label"]),g(m,{width:80,align:"right",label:a.$t("migrated1")},{default:w(({row:e})=>[e.migrated?(v(),x("img",Z)):(v(),x("img",z))]),_:1},8,["label"]),g(m,{align:"right",sortable:"custom","sort-orders":["descending","ascending",null],label:a.$t("walletMarketCap"),prop:"market_cap"},{default:w(({row:e})=>[y(" $"+k(("formatNumber"in a?a.formatNumber:_($))(e.market_cap,2)),1)]),_:1},8,["label"]),g(m,{align:"right",sortable:"custom","sort-orders":["descending","ascending",null],label:a.$t("allTimeHigh"),prop:"all_time_high"},{default:w(({row:e})=>[y(" $"+k(("formatNumber"in a?a.formatNumber:_($))(e.all_time_high,2)),1)]),_:1},8,["label"]),g(m,{align:"right",label:a.$t("holders")},{default:w(({row:e})=>[y(k(("formatNumber"in a?a.formatNumber:_($))(e.holders||0,2)),1)]),_:1},8,["label"]),g(m,{align:"right",label:a.$t("volumeOneHour")},{default:w(({row:e})=>[y(k(("formatNumber"in a?a.formatNumber:_($))(e.volume_u_1h||0,2)),1)]),_:1},8,["label"])]),_:1},8,["height","data","default-sort"]),b("div",G,[_(xe)&&_(pe)>1?(v(),x("span",J,k(a.$t("loading")),1)):M("",!0),_(fe)&&_(pe)>1&&(null==(o=_(me))?void 0:o.length)>_(ue)?(v(),x("span",R,k(a.$t("noMore")),1)):M("",!0)])],8,K)),[[ge,Te]]),b("div",B,[b("div",L,k(_(C)("tokenStatistics")),1),b("div",P,[b("span",Q,k(_(C)("dev3"))+":",1),y(" "+k(_(ce).dev_address?_(ce).dev_address.slice(0,4)+"..."+_(ce).dev_address.slice(-4):"--")+"("+k(("formatNumber"in a?a.formatNumber:_($))(_(he).balance,4))+k(_(he).name)+") ",1),f(g(D,{name:"bxs:copy",class:"text-12px ml-2px cursor-pointer color-[--secondary-text]"},null,512),[[we,_(ce).dev_address]]),g(D,{name:"custom:search",class:"text-[--third-text] text-16px cursor-pointer hover:text-[--main-text]",onClick:$e}),g(D,{name:"solana"===(null==(r=_(E))?void 0:r.chain)?"custom:sol":"custom:evm",class:"text-[--third-text] text-16px cursor-pointer hover:text-[--main-text]",onClick:je},null,8,["name"])]),b("div",U,[b("div",null,[b("div",V,[b("span",W,k(_(C)("totalTokens"))+":",1),y(" "+k(_(ce).total_tokens??0),1)]),b("div",X,[l[0]||(l[0]=b("span",{class:"w-12px h-12px rounded-2px bg-[--up-color]"},null,-1)),b("span",ee,k(_(C)("migrated"))+":",1),y(" "+k(_(ce).total_migrated??0),1)]),b("div",te,[l[1]||(l[1]=b("span",{class:"w-12px h-12px rounded-2px bg-[--down-color]"},null,-1)),b("span",ae,k(_(C)("notMigrated"))+":",1),y(" "+k(_(ce).total_non_migrated??0),1)])]),g(q,{width:120,style:{"--el-fill-color-light":"var(--down-color)"},color:"var(--up-color)","stroke-width":10,type:"circle",percentage:Number(((null==(s=_(ce))?void 0:s.total_migrated)||0)/((null==(i=_(ce))?void 0:i.total_tokens)||1)*100)||0},{default:w(({percentage:e})=>[b("div",le,k(("formatNumber"in a?a.formatNumber:_($))(e,1))+"%",1),b("div",oe,k(_(C)("migrated")),1)]),_:1},8,["percentage"])]),b("div",re,k(_(C)("highestRecord")),1),b("div",se,[b("span",ie,k(_(C)("historyHighestMarketCap"))+":",1),y(" $"+k(("formatNumber"in a?a.formatNumber:_($))((null==(n=_(A).bestToken)?void 0:n.all_time_high)||0,2)),1)]),b("div",ne,[b("span",de,k(_(C)("latestToken"))+":",1),f((v(),x("span",null,[y(k(("formatTimeFromNow"in a?a.formatTimeFromNow:_(N))(null==(d=_(A).bestToken)?void 0:d.created_at))+" "+k(_(C)("ago")),1)])),[[_e,_(T)(null==(c=_(A).bestToken)?void 0:c.created_at).format("YYYY-MM-DD HH:mm:ss")]])])])])}}}),[["__scopeId","data-v-1070b49f"]]);export{ce as default};
