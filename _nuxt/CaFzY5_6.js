import{f as e,B as l,ao as t,D as a,n as r,g as o,p,x as s,i,o as d,W as u,w as n,b as f,aV as c,O as m,j as v,aW as b,E as g,a as y,L as h,d as x,t as _,_ as w}from"./B65fceU8.js";const F={class:"flex-between w-100%"},V=w(e({__name:"proPopover",props:{width:{type:String,default:"248"},required:{type:Boolean,default:!0},label:{type:String,default:""},prop:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},rule:{type:Function,default:()=>{}},buttonRef:{type:Object,required:!0},maxlength:{type:Number,default:50},title:{type:String,default:""}},emits:["update:visible","update:modelValue","onConfirm","onCancel"],setup(e,{expose:w,emit:V}){const{t:q}=l(),{lang:S}=t(a()),k=e,C=V,R=r(),j=o(()=>k.placeholder??q("placeholderPrefix")+k.label),z=o(()=>({[k.prop]:[{required:k.required,message:k.label+(S.value.indexOf("zh")>-1?"":"&nbsp;")+q("cannotBeEmpty"),trigger:"blur"}]})),B=r(),O=p({[k.prop]:k.modelValue});function E(){var e;null==(e=B.value)||e.resetFields(),P()}function P(){var e,l;null==(l=null==(e=v(R))?void 0:e.hide)||l.call(e)}return s(()=>O[k.prop],e=>{C("update:modelValue",e)}),w({close:P}),(e,l)=>{const t=g,a=b,r=h,o=c,p=u;return d(),i(p,{ref_key:"popoverRef",ref:R,width:null==k?void 0:k.width,trigger:"click",placement:"bottom","virtual-ref":k.buttonRef,"virtual-triggering":"",title:null==k?void 0:k.title,persistent:!1,teleported:!0,"popper-class":"","popper-style":"--el-popover-title-font-size:14px;--el-popover-title-text-color:var(--d-FFF-l-000)"},{default:n(()=>[f(o,{ref_key:"formRef",ref:B,model:v(O),rules:v(z),onSubmit:l[1]||(l[1]=m(e=>{var l;(l=v(B))&&l.validate((e,l)=>{var t;e&&(C("onConfirm",O[k.prop]),null==(t=B.value)||t.resetFields())})},["prevent","stop"]))},{default:n(()=>[f(a,{prop:k.prop,required:k.required,"label-position":"top",size:"large",class:"mb-20px!"},{default:n(()=>[f(t,{modelValue:v(O)[k.prop],"onUpdate:modelValue":l[0]||(l[0]=e=>v(O)[k.prop]=e),placeholder:v(j),maxlength:k.maxlength,"show-word-limit":"",clearable:""},null,8,["modelValue","placeholder","maxlength"])]),_:1},8,["prop","required"]),f(a,{class:"mb-0px!"},{default:n(()=>[y("div",F,[f(r,{style:{background:"var(--d-333-l-F2F2F2)"},class:"flex-1",onClick:m(E,["stop","prevent"])},{default:n(()=>[x(_(e.$t("cancel")),1)]),_:1}),f(r,{type:"primary",class:"flex-1","native-type":"submit"},{default:n(()=>[x(_(e.$t("confirm")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["width","virtual-ref","title"])}}}),[["__scopeId","data-v-80b38f6b"]]);export{V as default};
